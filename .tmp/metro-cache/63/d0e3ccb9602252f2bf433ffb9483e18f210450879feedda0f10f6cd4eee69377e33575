{"dependencies":[{"name":"../../errors/abi.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":4,"column":17,"index":141},"end":{"line":4,"column":47,"index":171}}],"key":"bt3peqx8r8dLrUUfcZSr8LlIUEw="}},{"name":"../../errors/log.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":5,"column":17,"index":190},"end":{"line":5,"column":47,"index":220}}],"key":"WxlOjrf1/VPKZOphz8XxHdv5qT4="}},{"name":"../encoding/toBytes.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":6,"column":21,"index":243},"end":{"line":6,"column":54,"index":276}}],"key":"IH3Jqmew4P7fKnssnSnuakMjJtk="}},{"name":"../hash/keccak256.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":7,"column":23,"index":301},"end":{"line":7,"column":54,"index":332}}],"key":"hVdRuF9I2m+y185iahTUOhPDZBM="}},{"name":"../hash/toEventSelector.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":8,"column":29,"index":363},"end":{"line":8,"column":66,"index":400}}],"key":"A8CU6gDdS0JjGR+A2UDgoMDHgr4="}},{"name":"./encodeAbiParameters.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":9,"column":33,"index":435},"end":{"line":9,"column":68,"index":470}}],"key":"IbS9OgD1KP6mxWlmxUBg3LhOJAI="}},{"name":"./formatAbiItem.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":10,"column":27,"index":499},"end":{"line":10,"column":56,"index":528}}],"key":"xtqZVI8FljVDXcl1uN81gfl7sR0="}},{"name":"./getAbiItem.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":11,"column":24,"index":554},"end":{"line":11,"column":50,"index":580}}],"key":"bcABWhZbxJFGaD0lJvskryXSO6U="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.encodeEventTopics = encodeEventTopics;\n  var abi_js_1 = require(_dependencyMap[0], \"../../errors/abi.js\");\n  var log_js_1 = require(_dependencyMap[1], \"../../errors/log.js\");\n  var toBytes_js_1 = require(_dependencyMap[2], \"../encoding/toBytes.js\");\n  var keccak256_js_1 = require(_dependencyMap[3], \"../hash/keccak256.js\");\n  var toEventSelector_js_1 = require(_dependencyMap[4], \"../hash/toEventSelector.js\");\n  var encodeAbiParameters_js_1 = require(_dependencyMap[5], \"./encodeAbiParameters.js\");\n  var formatAbiItem_js_1 = require(_dependencyMap[6], \"./formatAbiItem.js\");\n  var getAbiItem_js_1 = require(_dependencyMap[7], \"./getAbiItem.js\");\n  var docsPath = '/docs/contract/encodeEventTopics';\n  function encodeEventTopics(parameters) {\n    var abi = parameters.abi,\n      eventName = parameters.eventName,\n      args = parameters.args;\n    var abiItem = abi[0];\n    if (eventName) {\n      var item = (0, getAbiItem_js_1.getAbiItem)({\n        abi,\n        name: eventName\n      });\n      if (!item) throw new abi_js_1.AbiEventNotFoundError(eventName, {\n        docsPath\n      });\n      abiItem = item;\n    }\n    if (abiItem.type !== 'event') throw new abi_js_1.AbiEventNotFoundError(undefined, {\n      docsPath\n    });\n    var definition = (0, formatAbiItem_js_1.formatAbiItem)(abiItem);\n    var signature = (0, toEventSelector_js_1.toEventSelector)(definition);\n    var topics = [];\n    if (args && 'inputs' in abiItem) {\n      var indexedInputs = abiItem.inputs?.filter(param => 'indexed' in param && param.indexed);\n      var args_ = Array.isArray(args) ? args : Object.values(args).length > 0 ? indexedInputs?.map(x => args[x.name]) ?? [] : [];\n      if (args_.length > 0) {\n        topics = indexedInputs?.map((param, i) => {\n          if (Array.isArray(args_[i])) return args_[i].map((_, j) => encodeArg({\n            param,\n            value: args_[i][j]\n          }));\n          return typeof args_[i] !== 'undefined' && args_[i] !== null ? encodeArg({\n            param,\n            value: args_[i]\n          }) : null;\n        }) ?? [];\n      }\n    }\n    return [signature, ...topics];\n  }\n  function encodeArg(_ref) {\n    var param = _ref.param,\n      value = _ref.value;\n    if (param.type === 'string' || param.type === 'bytes') return (0, keccak256_js_1.keccak256)((0, toBytes_js_1.toBytes)(value));\n    if (param.type === 'tuple' || param.type.match(/^(.*)\\[(\\d+)?\\]$/)) throw new log_js_1.FilterTypeNotSupportedError(param.type);\n    return (0, encodeAbiParameters_js_1.encodeAbiParameters)([param], [value]);\n  }\n});","lineCount":63,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"encodeEventTopics"],[7,27,3,25],[7,30,3,28,"encodeEventTopics"],[7,47,3,45],[8,2,4,0],[8,6,4,6,"abi_js_1"],[8,14,4,14],[8,17,4,17,"require"],[8,24,4,24],[8,25,4,24,"_dependencyMap"],[8,39,4,24],[8,65,4,46],[8,66,4,47],[9,2,5,0],[9,6,5,6,"log_js_1"],[9,14,5,14],[9,17,5,17,"require"],[9,24,5,24],[9,25,5,24,"_dependencyMap"],[9,39,5,24],[9,65,5,46],[9,66,5,47],[10,2,6,0],[10,6,6,6,"toBytes_js_1"],[10,18,6,18],[10,21,6,21,"require"],[10,28,6,28],[10,29,6,28,"_dependencyMap"],[10,43,6,28],[10,72,6,53],[10,73,6,54],[11,2,7,0],[11,6,7,6,"keccak256_js_1"],[11,20,7,20],[11,23,7,23,"require"],[11,30,7,30],[11,31,7,30,"_dependencyMap"],[11,45,7,30],[11,72,7,53],[11,73,7,54],[12,2,8,0],[12,6,8,6,"toEventSelector_js_1"],[12,26,8,26],[12,29,8,29,"require"],[12,36,8,36],[12,37,8,36,"_dependencyMap"],[12,51,8,36],[12,84,8,65],[12,85,8,66],[13,2,9,0],[13,6,9,6,"encodeAbiParameters_js_1"],[13,30,9,30],[13,33,9,33,"require"],[13,40,9,40],[13,41,9,40,"_dependencyMap"],[13,55,9,40],[13,86,9,67],[13,87,9,68],[14,2,10,0],[14,6,10,6,"formatAbiItem_js_1"],[14,24,10,24],[14,27,10,27,"require"],[14,34,10,34],[14,35,10,34,"_dependencyMap"],[14,49,10,34],[14,74,10,55],[14,75,10,56],[15,2,11,0],[15,6,11,6,"getAbiItem_js_1"],[15,21,11,21],[15,24,11,24,"require"],[15,31,11,31],[15,32,11,31,"_dependencyMap"],[15,46,11,31],[15,68,11,49],[15,69,11,50],[16,2,12,0],[16,6,12,6,"docsPath"],[16,14,12,14],[16,17,12,17],[16,51,12,51],[17,2,13,0],[17,11,13,9,"encodeEventTopics"],[17,28,13,26,"encodeEventTopics"],[17,29,13,27,"parameters"],[17,39,13,37],[17,41,13,39],[18,4,14,4],[18,8,14,12,"abi"],[18,11,14,15],[18,14,14,37,"parameters"],[18,24,14,47],[18,25,14,12,"abi"],[18,28,14,15],[19,6,14,17,"eventName"],[19,15,14,26],[19,18,14,37,"parameters"],[19,28,14,47],[19,29,14,17,"eventName"],[19,38,14,26],[20,6,14,28,"args"],[20,10,14,32],[20,13,14,37,"parameters"],[20,23,14,47],[20,24,14,28,"args"],[20,28,14,32],[21,4,15,4],[21,8,15,8,"abiItem"],[21,15,15,15],[21,18,15,18,"abi"],[21,21,15,21],[21,22,15,22],[21,23,15,23],[21,24,15,24],[22,4,16,4],[22,8,16,8,"eventName"],[22,17,16,17],[22,19,16,19],[23,6,17,8],[23,10,17,14,"item"],[23,14,17,18],[23,17,17,21],[23,18,17,22],[23,19,17,23],[23,21,17,25,"getAbiItem_js_1"],[23,36,17,40],[23,37,17,41,"getAbiItem"],[23,47,17,51],[23,49,17,53],[24,8,17,55,"abi"],[24,11,17,58],[25,8,17,60,"name"],[25,12,17,64],[25,14,17,66,"eventName"],[26,6,17,76],[26,7,17,77],[26,8,17,78],[27,6,18,8],[27,10,18,12],[27,11,18,13,"item"],[27,15,18,17],[27,17,19,12],[27,23,19,18],[27,27,19,22,"abi_js_1"],[27,35,19,30],[27,36,19,31,"AbiEventNotFoundError"],[27,57,19,52],[27,58,19,53,"eventName"],[27,67,19,62],[27,69,19,64],[28,8,19,66,"docsPath"],[29,6,19,75],[29,7,19,76],[29,8,19,77],[30,6,20,8,"abiItem"],[30,13,20,15],[30,16,20,18,"item"],[30,20,20,22],[31,4,21,4],[32,4,22,4],[32,8,22,8,"abiItem"],[32,15,22,15],[32,16,22,16,"type"],[32,20,22,20],[32,25,22,25],[32,32,22,32],[32,34,23,8],[32,40,23,14],[32,44,23,18,"abi_js_1"],[32,52,23,26],[32,53,23,27,"AbiEventNotFoundError"],[32,74,23,48],[32,75,23,49,"undefined"],[32,84,23,58],[32,86,23,60],[33,6,23,62,"docsPath"],[34,4,23,71],[34,5,23,72],[34,6,23,73],[35,4,24,4],[35,8,24,10,"definition"],[35,18,24,20],[35,21,24,23],[35,22,24,24],[35,23,24,25],[35,25,24,27,"formatAbiItem_js_1"],[35,43,24,45],[35,44,24,46,"formatAbiItem"],[35,57,24,59],[35,59,24,61,"abiItem"],[35,66,24,68],[35,67,24,69],[36,4,25,4],[36,8,25,10,"signature"],[36,17,25,19],[36,20,25,22],[36,21,25,23],[36,22,25,24],[36,24,25,26,"toEventSelector_js_1"],[36,44,25,46],[36,45,25,47,"toEventSelector"],[36,60,25,62],[36,62,25,64,"definition"],[36,72,25,74],[36,73,25,75],[37,4,26,4],[37,8,26,8,"topics"],[37,14,26,14],[37,17,26,17],[37,19,26,19],[38,4,27,4],[38,8,27,8,"args"],[38,12,27,12],[38,16,27,16],[38,24,27,24],[38,28,27,28,"abiItem"],[38,35,27,35],[38,37,27,37],[39,6,28,8],[39,10,28,14,"indexedInputs"],[39,23,28,27],[39,26,28,30,"abiItem"],[39,33,28,37],[39,34,28,38,"inputs"],[39,40,28,44],[39,42,28,46,"filter"],[39,48,28,52],[39,49,28,54,"param"],[39,54,28,59],[39,58,28,64],[39,67,28,73],[39,71,28,77,"param"],[39,76,28,82],[39,80,28,86,"param"],[39,85,28,91],[39,86,28,92,"indexed"],[39,93,28,99],[39,94,28,100],[40,6,29,8],[40,10,29,14,"args_"],[40,15,29,19],[40,18,29,22,"Array"],[40,23,29,27],[40,24,29,28,"isArray"],[40,31,29,35],[40,32,29,36,"args"],[40,36,29,40],[40,37,29,41],[40,40,30,14,"args"],[40,44,30,18],[40,47,31,14,"Object"],[40,53,31,20],[40,54,31,21,"values"],[40,60,31,27],[40,61,31,28,"args"],[40,65,31,32],[40,66,31,33],[40,67,31,34,"length"],[40,73,31,40],[40,76,31,43],[40,77,31,44],[40,80,32,19,"indexedInputs"],[40,93,32,32],[40,95,32,34,"map"],[40,98,32,37],[40,99,32,39,"x"],[40,100,32,40],[40,104,32,45,"args"],[40,108,32,49],[40,109,32,50,"x"],[40,110,32,51],[40,111,32,52,"name"],[40,115,32,56],[40,116,32,57],[40,117,32,58],[40,121,32,62],[40,123,32,64],[40,126,33,18],[40,128,33,20],[41,6,34,8],[41,10,34,12,"args_"],[41,15,34,17],[41,16,34,18,"length"],[41,22,34,24],[41,25,34,27],[41,26,34,28],[41,28,34,30],[42,8,35,12,"topics"],[42,14,35,18],[42,17,36,16,"indexedInputs"],[42,30,36,29],[42,32,36,31,"map"],[42,35,36,34],[42,36,36,35],[42,37,36,36,"param"],[42,42,36,41],[42,44,36,43,"i"],[42,45,36,44],[42,50,36,49],[43,10,37,20],[43,14,37,24,"Array"],[43,19,37,29],[43,20,37,30,"isArray"],[43,27,37,37],[43,28,37,38,"args_"],[43,33,37,43],[43,34,37,44,"i"],[43,35,37,45],[43,36,37,46],[43,37,37,47],[43,39,38,24],[43,46,38,31,"args_"],[43,51,38,36],[43,52,38,37,"i"],[43,53,38,38],[43,54,38,39],[43,55,38,40,"map"],[43,58,38,43],[43,59,38,44],[43,60,38,45,"_"],[43,61,38,46],[43,63,38,48,"j"],[43,64,38,49],[43,69,38,54,"encodeArg"],[43,78,38,63],[43,79,38,64],[44,12,38,66,"param"],[44,17,38,71],[45,12,38,73,"value"],[45,17,38,78],[45,19,38,80,"args_"],[45,24,38,85],[45,25,38,86,"i"],[45,26,38,87],[45,27,38,88],[45,28,38,89,"j"],[45,29,38,90],[46,10,38,92],[46,11,38,93],[46,12,38,94],[46,13,38,95],[47,10,39,20],[47,17,39,27],[47,24,39,34,"args_"],[47,29,39,39],[47,30,39,40,"i"],[47,31,39,41],[47,32,39,42],[47,37,39,47],[47,48,39,58],[47,52,39,62,"args_"],[47,57,39,67],[47,58,39,68,"i"],[47,59,39,69],[47,60,39,70],[47,65,39,75],[47,69,39,79],[47,72,40,26,"encodeArg"],[47,81,40,35],[47,82,40,36],[48,12,40,38,"param"],[48,17,40,43],[49,12,40,45,"value"],[49,17,40,50],[49,19,40,52,"args_"],[49,24,40,57],[49,25,40,58,"i"],[49,26,40,59],[50,10,40,61],[50,11,40,62],[50,12,40,63],[50,15,41,26],[50,19,41,30],[51,8,42,16],[51,9,42,17],[51,10,42,18],[51,14,42,22],[51,16,42,24],[52,6,43,8],[53,4,44,4],[54,4,45,4],[54,11,45,11],[54,12,45,12,"signature"],[54,21,45,21],[54,23,45,23],[54,26,45,26,"topics"],[54,32,45,32],[54,33,45,33],[55,2,46,0],[56,2,47,0],[56,11,47,9,"encodeArg"],[56,20,47,18,"encodeArg"],[56,21,47,18,"_ref"],[56,25,47,18],[56,27,47,38],[57,4,47,38],[57,8,47,21,"param"],[57,13,47,26],[57,16,47,26,"_ref"],[57,20,47,26],[57,21,47,21,"param"],[57,26,47,26],[58,6,47,28,"value"],[58,11,47,33],[58,14,47,33,"_ref"],[58,18,47,33],[58,19,47,28,"value"],[58,24,47,33],[59,4,48,4],[59,8,48,8,"param"],[59,13,48,13],[59,14,48,14,"type"],[59,18,48,18],[59,23,48,23],[59,31,48,31],[59,35,48,35,"param"],[59,40,48,40],[59,41,48,41,"type"],[59,45,48,45],[59,50,48,50],[59,57,48,57],[59,59,49,8],[59,66,49,15],[59,67,49,16],[59,68,49,17],[59,70,49,19,"keccak256_js_1"],[59,84,49,33],[59,85,49,34,"keccak256"],[59,94,49,43],[59,96,49,45],[59,97,49,46],[59,98,49,47],[59,100,49,49,"toBytes_js_1"],[59,112,49,61],[59,113,49,62,"toBytes"],[59,120,49,69],[59,122,49,71,"value"],[59,127,49,76],[59,128,49,77],[59,129,49,78],[60,4,50,4],[60,8,50,8,"param"],[60,13,50,13],[60,14,50,14,"type"],[60,18,50,18],[60,23,50,23],[60,30,50,30],[60,34,50,34,"param"],[60,39,50,39],[60,40,50,40,"type"],[60,44,50,44],[60,45,50,45,"match"],[60,50,50,50],[60,51,50,51],[60,69,50,69],[60,70,50,70],[60,72,51,8],[60,78,51,14],[60,82,51,18,"log_js_1"],[60,90,51,26],[60,91,51,27,"FilterTypeNotSupportedError"],[60,118,51,54],[60,119,51,55,"param"],[60,124,51,60],[60,125,51,61,"type"],[60,129,51,65],[60,130,51,66],[61,4,52,4],[61,11,52,11],[61,12,52,12],[61,13,52,13],[61,15,52,15,"encodeAbiParameters_js_1"],[61,39,52,39],[61,40,52,40,"encodeAbiParameters"],[61,59,52,59],[61,61,52,61],[61,62,52,62,"param"],[61,67,52,67],[61,68,52,68],[61,70,52,70],[61,71,52,71,"value"],[61,76,52,76],[61,77,52,77],[61,78,52,78],[62,2,53,0],[63,0,53,1],[63,3]],"functionMap":{"names":["<global>","encodeEventTopics","abiItem.inputs.filter$argument_0","indexedInputs.map$argument_0","args_.i.map$argument_0","encodeArg"],"mappings":"AAA;ACY;qDCe,8CD;sCEI,mBF;mCEI;4CCE,kDD;iBFI;CDI;AKC;CLM"}},"type":"js/module"}]}