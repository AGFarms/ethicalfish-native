{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":65,"column":38,"index":2921}}],"key":"8I802z/QkQYw0PV6ZCqhBNDwn0Q="}},{"name":"../../constants/abis.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":4,"column":18,"index":128},"end":{"line":4,"column":52,"index":162}}],"key":"CDB2K6HWcOArICtRebmnd4vu9/M="}},{"name":"../../utils/abi/decodeFunctionResult.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":5,"column":34,"index":198},"end":{"line":5,"column":84,"index":248}}],"key":"5luVFMCCdwnL6JGylx//78TqXfs="}},{"name":"../../utils/abi/encodeFunctionData.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":6,"column":32,"index":282},"end":{"line":6,"column":80,"index":330}}],"key":"k6DKt1NuhSk38W4TkpjEP1M8d4E="}},{"name":"../../utils/chain/getChainContractAddress.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":7,"column":37,"index":369},"end":{"line":7,"column":92,"index":424}}],"key":"jIIcEhlpX2NMwvqrlbwBzJJeO7M="}},{"name":"../../utils/encoding/toHex.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":8,"column":19,"index":445},"end":{"line":8,"column":59,"index":485}}],"key":"lzoYQ59yxspkeAGLn+iikiFGcWQ="}},{"name":"../../utils/ens/errors.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":9,"column":20,"index":507},"end":{"line":9,"column":56,"index":543}}],"key":"PRkhDVGaxurJ8Msz2f2AoowCaqE="}},{"name":"../../utils/ens/namehash.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":10,"column":22,"index":567},"end":{"line":10,"column":60,"index":605}}],"key":"rMu9CQfhRiGlGZrdmCQ3yN92iLs="}},{"name":"../../utils/ens/packetToBytes.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":11,"column":27,"index":634},"end":{"line":11,"column":70,"index":677}}],"key":"5zysRhQuCii3l2jGrDCrmJWwuc8="}},{"name":"../../utils/getAction.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":12,"column":23,"index":702},"end":{"line":12,"column":58,"index":737}}],"key":"Y/n4m+r52hYXgM0UylfgsDfMHzI="}},{"name":"../public/readContract.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":13,"column":26,"index":765},"end":{"line":13,"column":62,"index":801}}],"key":"c2Q5achBSwT5ERTusHrlU/WHS+g="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _asyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getEnsText = getEnsText;\n  var abis_js_1 = require(_dependencyMap[1], \"../../constants/abis.js\");\n  var decodeFunctionResult_js_1 = require(_dependencyMap[2], \"../../utils/abi/decodeFunctionResult.js\");\n  var encodeFunctionData_js_1 = require(_dependencyMap[3], \"../../utils/abi/encodeFunctionData.js\");\n  var getChainContractAddress_js_1 = require(_dependencyMap[4], \"../../utils/chain/getChainContractAddress.js\");\n  var toHex_js_1 = require(_dependencyMap[5], \"../../utils/encoding/toHex.js\");\n  var errors_js_1 = require(_dependencyMap[6], \"../../utils/ens/errors.js\");\n  var namehash_js_1 = require(_dependencyMap[7], \"../../utils/ens/namehash.js\");\n  var packetToBytes_js_1 = require(_dependencyMap[8], \"../../utils/ens/packetToBytes.js\");\n  var getAction_js_1 = require(_dependencyMap[9], \"../../utils/getAction.js\");\n  var readContract_js_1 = require(_dependencyMap[10], \"../public/readContract.js\");\n  function getEnsText(_x, _x2) {\n    return _getEnsText.apply(this, arguments);\n  }\n  function _getEnsText() {\n    _getEnsText = _asyncToGenerator(function* (client, _ref) {\n      var blockNumber = _ref.blockNumber,\n        blockTag = _ref.blockTag,\n        name = _ref.name,\n        key = _ref.key,\n        gatewayUrls = _ref.gatewayUrls,\n        strict = _ref.strict,\n        universalResolverAddress_ = _ref.universalResolverAddress;\n      var universalResolverAddress = universalResolverAddress_;\n      if (!universalResolverAddress) {\n        if (!client.chain) throw new Error('client chain not configured. universalResolverAddress is required.');\n        universalResolverAddress = (0, getChainContractAddress_js_1.getChainContractAddress)({\n          blockNumber,\n          chain: client.chain,\n          contract: 'ensUniversalResolver'\n        });\n      }\n      try {\n        var readContractParameters = {\n          address: universalResolverAddress,\n          abi: abis_js_1.universalResolverResolveAbi,\n          functionName: 'resolve',\n          args: [(0, toHex_js_1.toHex)((0, packetToBytes_js_1.packetToBytes)(name)), (0, encodeFunctionData_js_1.encodeFunctionData)({\n            abi: abis_js_1.textResolverAbi,\n            functionName: 'text',\n            args: [(0, namehash_js_1.namehash)(name), key]\n          })],\n          blockNumber,\n          blockTag\n        };\n        var readContractAction = (0, getAction_js_1.getAction)(client, readContract_js_1.readContract, 'readContract');\n        var res = gatewayUrls ? yield readContractAction({\n          ...readContractParameters,\n          args: [...readContractParameters.args, gatewayUrls]\n        }) : yield readContractAction(readContractParameters);\n        if (res[0] === '0x') return null;\n        var record = (0, decodeFunctionResult_js_1.decodeFunctionResult)({\n          abi: abis_js_1.textResolverAbi,\n          functionName: 'text',\n          data: res[0]\n        });\n        return record === '' ? null : record;\n      } catch (err) {\n        if (strict) throw err;\n        if ((0, errors_js_1.isNullUniversalResolverError)(err, 'resolve')) return null;\n        throw err;\n      }\n    });\n    return _getEnsText.apply(this, arguments);\n  }\n});","lineCount":73,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_asyncToGenerator"],[4,23,1,13],[4,26,1,13,"require"],[4,33,1,13],[4,34,1,13,"_dependencyMap"],[4,48,1,13],[5,2,2,0,"Object"],[5,8,2,6],[5,9,2,7,"defineProperty"],[5,23,2,21],[5,24,2,22,"exports"],[5,31,2,29],[5,33,2,31],[5,45,2,43],[5,47,2,45],[6,4,2,47,"value"],[6,9,2,52],[6,11,2,54],[7,2,2,59],[7,3,2,60],[7,4,2,61],[8,2,3,0,"exports"],[8,9,3,7],[8,10,3,8,"getEnsText"],[8,20,3,18],[8,23,3,21,"getEnsText"],[8,33,3,31],[9,2,4,0],[9,6,4,6,"abis_js_1"],[9,15,4,15],[9,18,4,18,"require"],[9,25,4,25],[9,26,4,25,"_dependencyMap"],[9,40,4,25],[9,70,4,51],[9,71,4,52],[10,2,5,0],[10,6,5,6,"decodeFunctionResult_js_1"],[10,31,5,31],[10,34,5,34,"require"],[10,41,5,41],[10,42,5,41,"_dependencyMap"],[10,56,5,41],[10,102,5,83],[10,103,5,84],[11,2,6,0],[11,6,6,6,"encodeFunctionData_js_1"],[11,29,6,29],[11,32,6,32,"require"],[11,39,6,39],[11,40,6,39,"_dependencyMap"],[11,54,6,39],[11,98,6,79],[11,99,6,80],[12,2,7,0],[12,6,7,6,"getChainContractAddress_js_1"],[12,34,7,34],[12,37,7,37,"require"],[12,44,7,44],[12,45,7,44,"_dependencyMap"],[12,59,7,44],[12,110,7,91],[12,111,7,92],[13,2,8,0],[13,6,8,6,"toHex_js_1"],[13,16,8,16],[13,19,8,19,"require"],[13,26,8,26],[13,27,8,26,"_dependencyMap"],[13,41,8,26],[13,77,8,58],[13,78,8,59],[14,2,9,0],[14,6,9,6,"errors_js_1"],[14,17,9,17],[14,20,9,20,"require"],[14,27,9,27],[14,28,9,27,"_dependencyMap"],[14,42,9,27],[14,74,9,55],[14,75,9,56],[15,2,10,0],[15,6,10,6,"namehash_js_1"],[15,19,10,19],[15,22,10,22,"require"],[15,29,10,29],[15,30,10,29,"_dependencyMap"],[15,44,10,29],[15,78,10,59],[15,79,10,60],[16,2,11,0],[16,6,11,6,"packetToBytes_js_1"],[16,24,11,24],[16,27,11,27,"require"],[16,34,11,34],[16,35,11,34,"_dependencyMap"],[16,49,11,34],[16,88,11,69],[16,89,11,70],[17,2,12,0],[17,6,12,6,"getAction_js_1"],[17,20,12,20],[17,23,12,23,"require"],[17,30,12,30],[17,31,12,30,"_dependencyMap"],[17,45,12,30],[17,76,12,57],[17,77,12,58],[18,2,13,0],[18,6,13,6,"readContract_js_1"],[18,23,13,23],[18,26,13,26,"require"],[18,33,13,33],[18,34,13,33,"_dependencyMap"],[18,48,13,33],[18,81,13,61],[18,82,13,62],[19,2,13,63],[19,11,14,15,"getEnsText"],[19,21,14,25,"getEnsText"],[19,22,14,25,"_x"],[19,24,14,25],[19,26,14,25,"_x2"],[19,29,14,25],[20,4,14,25],[20,11,14,25,"_getEnsText"],[20,22,14,25],[20,23,14,25,"apply"],[20,28,14,25],[20,35,14,25,"arguments"],[20,44,14,25],[21,2,14,25],[22,2,14,25],[22,11,14,25,"_getEnsText"],[22,23,14,25],[23,4,14,25,"_getEnsText"],[23,15,14,25],[23,18,14,25,"_asyncToGenerator"],[23,35,14,25],[23,36,14,0],[23,47,14,26,"client"],[23,53,14,32],[23,55,14,32,"_ref"],[23,59,14,32],[23,61,14,147],[24,6,14,147],[24,10,14,36,"blockNumber"],[24,21,14,47],[24,24,14,47,"_ref"],[24,28,14,47],[24,29,14,36,"blockNumber"],[24,40,14,47],[25,8,14,49,"blockTag"],[25,16,14,57],[25,19,14,57,"_ref"],[25,23,14,57],[25,24,14,49,"blockTag"],[25,32,14,57],[26,8,14,59,"name"],[26,12,14,63],[26,15,14,63,"_ref"],[26,19,14,63],[26,20,14,59,"name"],[26,24,14,63],[27,8,14,65,"key"],[27,11,14,68],[27,14,14,68,"_ref"],[27,18,14,68],[27,19,14,65,"key"],[27,22,14,68],[28,8,14,70,"gatewayUrls"],[28,19,14,81],[28,22,14,81,"_ref"],[28,26,14,81],[28,27,14,70,"gatewayUrls"],[28,38,14,81],[29,8,14,83,"strict"],[29,14,14,89],[29,17,14,89,"_ref"],[29,21,14,89],[29,22,14,83,"strict"],[29,28,14,89],[30,8,14,117,"universalResolverAddress_"],[30,33,14,142],[30,36,14,142,"_ref"],[30,40,14,142],[30,41,14,91,"universalResolverAddress"],[30,65,14,115],[31,6,15,4],[31,10,15,8,"universalResolverAddress"],[31,34,15,32],[31,37,15,35,"universalResolverAddress_"],[31,62,15,60],[32,6,16,4],[32,10,16,8],[32,11,16,9,"universalResolverAddress"],[32,35,16,33],[32,37,16,35],[33,8,17,8],[33,12,17,12],[33,13,17,13,"client"],[33,19,17,19],[33,20,17,20,"chain"],[33,25,17,25],[33,27,18,12],[33,33,18,18],[33,37,18,22,"Error"],[33,42,18,27],[33,43,18,28],[33,111,18,96],[33,112,18,97],[34,8,19,8,"universalResolverAddress"],[34,32,19,32],[34,35,19,35],[34,36,19,36],[34,37,19,37],[34,39,19,39,"getChainContractAddress_js_1"],[34,67,19,67],[34,68,19,68,"getChainContractAddress"],[34,91,19,91],[34,93,19,93],[35,10,20,12,"blockNumber"],[35,21,20,23],[36,10,21,12,"chain"],[36,15,21,17],[36,17,21,19,"client"],[36,23,21,25],[36,24,21,26,"chain"],[36,29,21,31],[37,10,22,12,"contract"],[37,18,22,20],[37,20,22,22],[38,8,23,8],[38,9,23,9],[38,10,23,10],[39,6,24,4],[40,6,25,4],[40,10,25,8],[41,8,26,8],[41,12,26,14,"readContractParameters"],[41,34,26,36],[41,37,26,39],[42,10,27,12,"address"],[42,17,27,19],[42,19,27,21,"universalResolverAddress"],[42,43,27,45],[43,10,28,12,"abi"],[43,13,28,15],[43,15,28,17,"abis_js_1"],[43,24,28,26],[43,25,28,27,"universalResolverResolveAbi"],[43,52,28,54],[44,10,29,12,"functionName"],[44,22,29,24],[44,24,29,26],[44,33,29,35],[45,10,30,12,"args"],[45,14,30,16],[45,16,30,18],[45,17,31,16],[45,18,31,17],[45,19,31,18],[45,21,31,20,"toHex_js_1"],[45,31,31,30],[45,32,31,31,"toHex"],[45,37,31,36],[45,39,31,38],[45,40,31,39],[45,41,31,40],[45,43,31,42,"packetToBytes_js_1"],[45,61,31,60],[45,62,31,61,"packetToBytes"],[45,75,31,74],[45,77,31,76,"name"],[45,81,31,80],[45,82,31,81],[45,83,31,82],[45,85,32,16],[45,86,32,17],[45,87,32,18],[45,89,32,20,"encodeFunctionData_js_1"],[45,112,32,43],[45,113,32,44,"encodeFunctionData"],[45,131,32,62],[45,133,32,64],[46,12,33,20,"abi"],[46,15,33,23],[46,17,33,25,"abis_js_1"],[46,26,33,34],[46,27,33,35,"textResolverAbi"],[46,42,33,50],[47,12,34,20,"functionName"],[47,24,34,32],[47,26,34,34],[47,32,34,40],[48,12,35,20,"args"],[48,16,35,24],[48,18,35,26],[48,19,35,27],[48,20,35,28],[48,21,35,29],[48,23,35,31,"namehash_js_1"],[48,36,35,44],[48,37,35,45,"namehash"],[48,45,35,53],[48,47,35,55,"name"],[48,51,35,59],[48,52,35,60],[48,54,35,62,"key"],[48,57,35,65],[49,10,36,16],[49,11,36,17],[49,12,36,18],[49,13,37,13],[50,10,38,12,"blockNumber"],[50,21,38,23],[51,10,39,12,"blockTag"],[52,8,40,8],[52,9,40,9],[53,8,41,8],[53,12,41,14,"readContractAction"],[53,30,41,32],[53,33,41,35],[53,34,41,36],[53,35,41,37],[53,37,41,39,"getAction_js_1"],[53,51,41,53],[53,52,41,54,"getAction"],[53,61,41,63],[53,63,41,65,"client"],[53,69,41,71],[53,71,41,73,"readContract_js_1"],[53,88,41,90],[53,89,41,91,"readContract"],[53,101,41,103],[53,103,41,105],[53,117,41,119],[53,118,41,120],[54,8,42,8],[54,12,42,14,"res"],[54,15,42,17],[54,18,42,20,"gatewayUrls"],[54,29,42,31],[54,38,43,20,"readContractAction"],[54,56,43,38],[54,57,43,39],[55,10,44,16],[55,13,44,19,"readContractParameters"],[55,35,44,41],[56,10,45,16,"args"],[56,14,45,20],[56,16,45,22],[56,17,45,23],[56,20,45,26,"readContractParameters"],[56,42,45,48],[56,43,45,49,"args"],[56,47,45,53],[56,49,45,55,"gatewayUrls"],[56,60,45,66],[57,8,46,12],[57,9,46,13],[57,10,46,14],[57,19,47,20,"readContractAction"],[57,37,47,38],[57,38,47,39,"readContractParameters"],[57,60,47,61],[57,61,47,62],[58,8,48,8],[58,12,48,12,"res"],[58,15,48,15],[58,16,48,16],[58,17,48,17],[58,18,48,18],[58,23,48,23],[58,27,48,27],[58,29,49,12],[58,36,49,19],[58,40,49,23],[59,8,50,8],[59,12,50,14,"record"],[59,18,50,20],[59,21,50,23],[59,22,50,24],[59,23,50,25],[59,25,50,27,"decodeFunctionResult_js_1"],[59,50,50,52],[59,51,50,53,"decodeFunctionResult"],[59,71,50,73],[59,73,50,75],[60,10,51,12,"abi"],[60,13,51,15],[60,15,51,17,"abis_js_1"],[60,24,51,26],[60,25,51,27,"textResolverAbi"],[60,40,51,42],[61,10,52,12,"functionName"],[61,22,52,24],[61,24,52,26],[61,30,52,32],[62,10,53,12,"data"],[62,14,53,16],[62,16,53,18,"res"],[62,19,53,21],[62,20,53,22],[62,21,53,23],[63,8,54,8],[63,9,54,9],[63,10,54,10],[64,8,55,8],[64,15,55,15,"record"],[64,21,55,21],[64,26,55,26],[64,28,55,28],[64,31,55,31],[64,35,55,35],[64,38,55,38,"record"],[64,44,55,44],[65,6,56,4],[65,7,56,5],[65,8,57,4],[65,15,57,11,"err"],[65,18,57,14],[65,20,57,16],[66,8,58,8],[66,12,58,12,"strict"],[66,18,58,18],[66,20,59,12],[66,26,59,18,"err"],[66,29,59,21],[67,8,60,8],[67,12,60,12],[67,13,60,13],[67,14,60,14],[67,16,60,16,"errors_js_1"],[67,27,60,27],[67,28,60,28,"isNullUniversalResolverError"],[67,56,60,56],[67,58,60,58,"err"],[67,61,60,61],[67,63,60,63],[67,72,60,72],[67,73,60,73],[67,75,61,12],[67,82,61,19],[67,86,61,23],[68,8,62,8],[68,14,62,14,"err"],[68,17,62,17],[69,6,63,4],[70,4,64,0],[70,5,64,1],[71,4,64,1],[71,11,64,1,"_getEnsText"],[71,22,64,1],[71,23,64,1,"apply"],[71,28,64,1],[71,35,64,1,"arguments"],[71,44,64,1],[72,2,64,1],[73,0,64,1],[73,3]],"functionMap":{"names":["<global>","getEnsText"],"mappings":"AAA;ACa;CDkD"}},"type":"js/module"}]}