{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":50,"column":56,"index":2351}}],"key":"EU+qeBIKi4KcIzPeK4PbkLqFqVY="}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":50,"column":56,"index":2351}}],"key":"8I802z/QkQYw0PV6ZCqhBNDwn0Q="}},{"name":"../../errors/fee.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":5,"column":17,"index":250},"end":{"line":5,"column":47,"index":280}}],"key":"Q23Bbtr1iQHf1/al1dd5jEGGCwc="}},{"name":"../../utils/encoding/fromHex.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":6,"column":21,"index":303},"end":{"line":6,"column":63,"index":345}}],"key":"H+p7ULpcfNCtaULfe+Ir2c2gHUM="}},{"name":"../../utils/getAction.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":7,"column":23,"index":370},"end":{"line":7,"column":58,"index":405}}],"key":"Y/n4m+r52hYXgM0UylfgsDfMHzI="}},{"name":"./getBlock.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":8,"column":22,"index":429},"end":{"line":8,"column":46,"index":453}}],"key":"mkZbwzwtcwQCllOxtyHW1+E23Fw="}},{"name":"./getGasPrice.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":9,"column":25,"index":480},"end":{"line":9,"column":52,"index":507}}],"key":"7cIKtwjcV1m+/S4JLsQWg4E0JYs="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _slicedToArray = require(_dependencyMap[0], \"@babel/runtime/helpers/slicedToArray\");\n  var _asyncToGenerator = require(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.estimateMaxPriorityFeePerGas = estimateMaxPriorityFeePerGas;\n  exports.internal_estimateMaxPriorityFeePerGas = internal_estimateMaxPriorityFeePerGas;\n  var fee_js_1 = require(_dependencyMap[2], \"../../errors/fee.js\");\n  var fromHex_js_1 = require(_dependencyMap[3], \"../../utils/encoding/fromHex.js\");\n  var getAction_js_1 = require(_dependencyMap[4], \"../../utils/getAction.js\");\n  var getBlock_js_1 = require(_dependencyMap[5], \"./getBlock.js\");\n  var getGasPrice_js_1 = require(_dependencyMap[6], \"./getGasPrice.js\");\n  function estimateMaxPriorityFeePerGas(_x, _x2) {\n    return _estimateMaxPriorityFeePerGas.apply(this, arguments);\n  }\n  function _estimateMaxPriorityFeePerGas() {\n    _estimateMaxPriorityFeePerGas = _asyncToGenerator(function* (client, args) {\n      return internal_estimateMaxPriorityFeePerGas(client, args);\n    });\n    return _estimateMaxPriorityFeePerGas.apply(this, arguments);\n  }\n  function internal_estimateMaxPriorityFeePerGas(_x3, _x4) {\n    return _internal_estimateMaxPriorityFeePerGas.apply(this, arguments);\n  }\n  function _internal_estimateMaxPriorityFeePerGas() {\n    _internal_estimateMaxPriorityFeePerGas = _asyncToGenerator(function* (client, args) {\n      var _ref = args || {},\n        block_ = _ref.block,\n        _ref$chain = _ref.chain,\n        chain = _ref$chain === void 0 ? client.chain : _ref$chain,\n        request = _ref.request;\n      try {\n        var maxPriorityFeePerGas = chain?.fees?.maxPriorityFeePerGas ?? chain?.fees?.defaultPriorityFee;\n        if (typeof maxPriorityFeePerGas === 'function') {\n          var block = block_ || (yield (0, getAction_js_1.getAction)(client, getBlock_js_1.getBlock, 'getBlock')({}));\n          var maxPriorityFeePerGas_ = yield maxPriorityFeePerGas({\n            block,\n            client,\n            request\n          });\n          if (maxPriorityFeePerGas_ === null) throw new Error();\n          return maxPriorityFeePerGas_;\n        }\n        if (typeof maxPriorityFeePerGas !== 'undefined') return maxPriorityFeePerGas;\n        var maxPriorityFeePerGasHex = yield client.request({\n          method: 'eth_maxPriorityFeePerGas'\n        });\n        return (0, fromHex_js_1.hexToBigInt)(maxPriorityFeePerGasHex);\n      } catch {\n        var _yield$Promise$all = yield Promise.all([block_ ? Promise.resolve(block_) : (0, getAction_js_1.getAction)(client, getBlock_js_1.getBlock, 'getBlock')({}), (0, getAction_js_1.getAction)(client, getGasPrice_js_1.getGasPrice, 'getGasPrice')({})]),\n          _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 2),\n          _block = _yield$Promise$all2[0],\n          gasPrice = _yield$Promise$all2[1];\n        if (typeof _block.baseFeePerGas !== 'bigint') throw new fee_js_1.Eip1559FeesNotSupportedError();\n        var _maxPriorityFeePerGas = gasPrice - _block.baseFeePerGas;\n        if (_maxPriorityFeePerGas < 0n) return 0n;\n        return _maxPriorityFeePerGas;\n      }\n    });\n    return _internal_estimateMaxPriorityFeePerGas.apply(this, arguments);\n  }\n});","lineCount":65,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_slicedToArray"],[4,20,1,13],[4,23,1,13,"require"],[4,30,1,13],[4,31,1,13,"_dependencyMap"],[4,45,1,13],[5,2,1,13],[5,6,1,13,"_asyncToGenerator"],[5,23,1,13],[5,26,1,13,"require"],[5,33,1,13],[5,34,1,13,"_dependencyMap"],[5,48,1,13],[6,2,2,0,"Object"],[6,8,2,6],[6,9,2,7,"defineProperty"],[6,23,2,21],[6,24,2,22,"exports"],[6,31,2,29],[6,33,2,31],[6,45,2,43],[6,47,2,45],[7,4,2,47,"value"],[7,9,2,52],[7,11,2,54],[8,2,2,59],[8,3,2,60],[8,4,2,61],[9,2,3,0,"exports"],[9,9,3,7],[9,10,3,8,"estimateMaxPriorityFeePerGas"],[9,38,3,36],[9,41,3,39,"estimateMaxPriorityFeePerGas"],[9,69,3,67],[10,2,4,0,"exports"],[10,9,4,7],[10,10,4,8,"internal_estimateMaxPriorityFeePerGas"],[10,47,4,45],[10,50,4,48,"internal_estimateMaxPriorityFeePerGas"],[10,87,4,85],[11,2,5,0],[11,6,5,6,"fee_js_1"],[11,14,5,14],[11,17,5,17,"require"],[11,24,5,24],[11,25,5,24,"_dependencyMap"],[11,39,5,24],[11,65,5,46],[11,66,5,47],[12,2,6,0],[12,6,6,6,"fromHex_js_1"],[12,18,6,18],[12,21,6,21,"require"],[12,28,6,28],[12,29,6,28,"_dependencyMap"],[12,43,6,28],[12,81,6,62],[12,82,6,63],[13,2,7,0],[13,6,7,6,"getAction_js_1"],[13,20,7,20],[13,23,7,23,"require"],[13,30,7,30],[13,31,7,30,"_dependencyMap"],[13,45,7,30],[13,76,7,57],[13,77,7,58],[14,2,8,0],[14,6,8,6,"getBlock_js_1"],[14,19,8,19],[14,22,8,22,"require"],[14,29,8,29],[14,30,8,29,"_dependencyMap"],[14,44,8,29],[14,64,8,45],[14,65,8,46],[15,2,9,0],[15,6,9,6,"getGasPrice_js_1"],[15,22,9,22],[15,25,9,25,"require"],[15,32,9,32],[15,33,9,32,"_dependencyMap"],[15,47,9,32],[15,70,9,51],[15,71,9,52],[16,2,9,53],[16,11,10,15,"estimateMaxPriorityFeePerGas"],[16,39,10,43,"estimateMaxPriorityFeePerGas"],[16,40,10,43,"_x"],[16,42,10,43],[16,44,10,43,"_x2"],[16,47,10,43],[17,4,10,43],[17,11,10,43,"_estimateMaxPriorityFeePerGas"],[17,40,10,43],[17,41,10,43,"apply"],[17,46,10,43],[17,53,10,43,"arguments"],[17,62,10,43],[18,2,10,43],[19,2,10,43],[19,11,10,43,"_estimateMaxPriorityFeePerGas"],[19,41,10,43],[20,4,10,43,"_estimateMaxPriorityFeePerGas"],[20,33,10,43],[20,36,10,43,"_asyncToGenerator"],[20,53,10,43],[20,54,10,0],[20,65,10,44,"client"],[20,71,10,50],[20,73,10,52,"args"],[20,77,10,56],[20,79,10,58],[21,6,11,4],[21,13,11,11,"internal_estimateMaxPriorityFeePerGas"],[21,50,11,48],[21,51,11,49,"client"],[21,57,11,55],[21,59,11,57,"args"],[21,63,11,61],[21,64,11,62],[22,4,12,0],[22,5,12,1],[23,4,12,1],[23,11,12,1,"_estimateMaxPriorityFeePerGas"],[23,40,12,1],[23,41,12,1,"apply"],[23,46,12,1],[23,53,12,1,"arguments"],[23,62,12,1],[24,2,12,1],[25,2,12,1],[25,11,13,15,"internal_estimateMaxPriorityFeePerGas"],[25,48,13,52,"internal_estimateMaxPriorityFeePerGas"],[25,49,13,52,"_x3"],[25,52,13,52],[25,54,13,52,"_x4"],[25,57,13,52],[26,4,13,52],[26,11,13,52,"_internal_estimateMaxPriorityFeePerGas"],[26,49,13,52],[26,50,13,52,"apply"],[26,55,13,52],[26,62,13,52,"arguments"],[26,71,13,52],[27,2,13,52],[28,2,13,52],[28,11,13,52,"_internal_estimateMaxPriorityFeePerGas"],[28,50,13,52],[29,4,13,52,"_internal_estimateMaxPriorityFeePerGas"],[29,42,13,52],[29,45,13,52,"_asyncToGenerator"],[29,62,13,52],[29,63,13,0],[29,74,13,53,"client"],[29,80,13,59],[29,82,13,61,"args"],[29,86,13,65],[29,88,13,67],[30,6,14,4],[30,10,14,4,"_ref"],[30,14,14,4],[30,17,14,61,"args"],[30,21,14,65],[30,25,14,69],[30,26,14,70],[30,27,14,71],[31,8,14,19,"block_"],[31,14,14,25],[31,17,14,25,"_ref"],[31,21,14,25],[31,22,14,12,"block"],[31,27,14,17],[32,8,14,17,"_ref$chain"],[32,18,14,17],[32,21,14,17,"_ref"],[32,25,14,17],[32,26,14,27,"chain"],[32,31,14,32],[33,8,14,27,"chain"],[33,13,14,32],[33,16,14,32,"_ref$chain"],[33,26,14,32],[33,40,14,35,"client"],[33,46,14,41],[33,47,14,42,"chain"],[33,52,14,47],[33,55,14,47,"_ref$chain"],[33,65,14,47],[34,8,14,49,"request"],[34,15,14,56],[34,18,14,56,"_ref"],[34,22,14,56],[34,23,14,49,"request"],[34,30,14,56],[35,6,15,4],[35,10,15,8],[36,8,16,8],[36,12,16,14,"maxPriorityFeePerGas"],[36,32,16,34],[36,35,16,37,"chain"],[36,40,16,42],[36,42,16,44,"fees"],[36,46,16,48],[36,48,16,50,"maxPriorityFeePerGas"],[36,68,16,70],[36,72,16,74,"chain"],[36,77,16,79],[36,79,16,81,"fees"],[36,83,16,85],[36,85,16,87,"defaultPriorityFee"],[36,103,16,105],[37,8,17,8],[37,12,17,12],[37,19,17,19,"maxPriorityFeePerGas"],[37,39,17,39],[37,44,17,44],[37,54,17,54],[37,56,17,56],[38,10,18,12],[38,14,18,18,"block"],[38,19,18,23],[38,22,18,26,"block_"],[38,28,18,32],[38,39,18,43],[38,40,18,44],[38,41,18,45],[38,43,18,47,"getAction_js_1"],[38,57,18,61],[38,58,18,62,"getAction"],[38,67,18,71],[38,69,18,73,"client"],[38,75,18,79],[38,77,18,81,"getBlock_js_1"],[38,90,18,94],[38,91,18,95,"getBlock"],[38,99,18,103],[38,101,18,105],[38,111,18,115],[38,112,18,116],[38,113,18,117],[38,114,18,118],[38,115,18,119],[38,116,18,120],[38,117,18,121],[39,10,19,12],[39,14,19,18,"maxPriorityFeePerGas_"],[39,35,19,39],[39,44,19,48,"maxPriorityFeePerGas"],[39,64,19,68],[39,65,19,69],[40,12,20,16,"block"],[40,17,20,21],[41,12,21,16,"client"],[41,18,21,22],[42,12,22,16,"request"],[43,10,23,12],[43,11,23,13],[43,12,23,14],[44,10,24,12],[44,14,24,16,"maxPriorityFeePerGas_"],[44,35,24,37],[44,40,24,42],[44,44,24,46],[44,46,25,16],[44,52,25,22],[44,56,25,26,"Error"],[44,61,25,31],[44,62,25,32],[44,63,25,33],[45,10,26,12],[45,17,26,19,"maxPriorityFeePerGas_"],[45,38,26,40],[46,8,27,8],[47,8,28,8],[47,12,28,12],[47,19,28,19,"maxPriorityFeePerGas"],[47,39,28,39],[47,44,28,44],[47,55,28,55],[47,57,29,12],[47,64,29,19,"maxPriorityFeePerGas"],[47,84,29,39],[48,8,30,8],[48,12,30,14,"maxPriorityFeePerGasHex"],[48,35,30,37],[48,44,30,46,"client"],[48,50,30,52],[48,51,30,53,"request"],[48,58,30,60],[48,59,30,61],[49,10,31,12,"method"],[49,16,31,18],[49,18,31,20],[50,8,32,8],[50,9,32,9],[50,10,32,10],[51,8,33,8],[51,15,33,15],[51,16,33,16],[51,17,33,17],[51,19,33,19,"fromHex_js_1"],[51,31,33,31],[51,32,33,32,"hexToBigInt"],[51,43,33,43],[51,45,33,45,"maxPriorityFeePerGasHex"],[51,68,33,68],[51,69,33,69],[52,6,34,4],[52,7,34,5],[52,8,35,4],[52,14,35,10],[53,8,36,8],[53,12,36,8,"_yield$Promise$all"],[53,30,36,8],[53,39,36,40,"Promise"],[53,46,36,47],[53,47,36,48,"all"],[53,50,36,51],[53,51,36,52],[53,52,37,12,"block_"],[53,58,37,18],[53,61,38,18,"Promise"],[53,68,38,25],[53,69,38,26,"resolve"],[53,76,38,33],[53,77,38,34,"block_"],[53,83,38,40],[53,84,38,41],[53,87,39,18],[53,88,39,19],[53,89,39,20],[53,91,39,22,"getAction_js_1"],[53,105,39,36],[53,106,39,37,"getAction"],[53,115,39,46],[53,117,39,48,"client"],[53,123,39,54],[53,125,39,56,"getBlock_js_1"],[53,138,39,69],[53,139,39,70,"getBlock"],[53,147,39,78],[53,149,39,80],[53,159,39,90],[53,160,39,91],[53,161,39,92],[53,162,39,93],[53,163,39,94],[53,164,39,95],[53,166,40,12],[53,167,40,13],[53,168,40,14],[53,170,40,16,"getAction_js_1"],[53,184,40,30],[53,185,40,31,"getAction"],[53,194,40,40],[53,196,40,42,"client"],[53,202,40,48],[53,204,40,50,"getGasPrice_js_1"],[53,220,40,66],[53,221,40,67,"getGasPrice"],[53,232,40,78],[53,234,40,80],[53,247,40,93],[53,248,40,94],[53,249,40,95],[53,250,40,96],[53,251,40,97],[53,252,40,98],[53,253,41,9],[53,254,41,10],[54,10,41,10,"_yield$Promise$all2"],[54,29,41,10],[54,32,41,10,"_slicedToArray"],[54,46,41,10],[54,47,41,10,"_yield$Promise$all"],[54,65,41,10],[55,10,36,15,"block"],[55,16,36,20],[55,19,36,20,"_yield$Promise$all2"],[55,38,36,20],[56,10,36,22,"gasPrice"],[56,18,36,30],[56,21,36,30,"_yield$Promise$all2"],[56,40,36,30],[57,8,42,8],[57,12,42,12],[57,19,42,19,"block"],[57,25,42,24],[57,26,42,25,"baseFeePerGas"],[57,39,42,38],[57,44,42,43],[57,52,42,51],[57,54,43,12],[57,60,43,18],[57,64,43,22,"fee_js_1"],[57,72,43,30],[57,73,43,31,"Eip1559FeesNotSupportedError"],[57,101,43,59],[57,102,43,60],[57,103,43,61],[58,8,44,8],[58,12,44,14,"maxPriorityFeePerGas"],[58,33,44,34],[58,36,44,37,"gasPrice"],[58,44,44,45],[58,47,44,48,"block"],[58,53,44,53],[58,54,44,54,"baseFeePerGas"],[58,67,44,67],[59,8,45,8],[59,12,45,12,"maxPriorityFeePerGas"],[59,33,45,32],[59,36,45,35],[59,38,45,37],[59,40,46,12],[59,47,46,19],[59,49,46,21],[60,8,47,8],[60,15,47,15,"maxPriorityFeePerGas"],[60,36,47,35],[61,6,48,4],[62,4,49,0],[62,5,49,1],[63,4,49,1],[63,11,49,1,"_internal_estimateMaxPriorityFeePerGas"],[63,49,49,1],[63,50,49,1,"apply"],[63,55,49,1],[63,62,49,1,"arguments"],[63,71,49,1],[64,2,49,1],[65,0,49,1],[65,3]],"functionMap":{"names":["<global>","estimateMaxPriorityFeePerGas","internal_estimateMaxPriorityFeePerGas"],"mappings":"AAA;ACS;CDE;AEC;CFoC"}},"type":"js/module"}]}