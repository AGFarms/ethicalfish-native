{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":51,"column":38,"index":2337}}],"key":"EU+qeBIKi4KcIzPeK4PbkLqFqVY="}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":51,"column":38,"index":2337}}],"key":"8I802z/QkQYw0PV6ZCqhBNDwn0Q="}},{"name":"../../constants/abis.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":4,"column":18,"index":128},"end":{"line":4,"column":52,"index":162}}],"key":"CDB2K6HWcOArICtRebmnd4vu9/M="}},{"name":"../../utils/chain/getChainContractAddress.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":5,"column":37,"index":201},"end":{"line":5,"column":92,"index":256}}],"key":"jIIcEhlpX2NMwvqrlbwBzJJeO7M="}},{"name":"../../utils/encoding/toHex.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":6,"column":19,"index":277},"end":{"line":6,"column":59,"index":317}}],"key":"lzoYQ59yxspkeAGLn+iikiFGcWQ="}},{"name":"../../utils/ens/errors.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":7,"column":20,"index":339},"end":{"line":7,"column":56,"index":375}}],"key":"PRkhDVGaxurJ8Msz2f2AoowCaqE="}},{"name":"../../utils/ens/packetToBytes.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":8,"column":27,"index":404},"end":{"line":8,"column":70,"index":447}}],"key":"5zysRhQuCii3l2jGrDCrmJWwuc8="}},{"name":"../../utils/getAction.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":9,"column":23,"index":472},"end":{"line":9,"column":58,"index":507}}],"key":"Y/n4m+r52hYXgM0UylfgsDfMHzI="}},{"name":"../public/readContract.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":10,"column":26,"index":535},"end":{"line":10,"column":62,"index":571}}],"key":"c2Q5achBSwT5ERTusHrlU/WHS+g="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _slicedToArray = require(_dependencyMap[0], \"@babel/runtime/helpers/slicedToArray\");\n  var _asyncToGenerator = require(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getEnsName = getEnsName;\n  var abis_js_1 = require(_dependencyMap[2], \"../../constants/abis.js\");\n  var getChainContractAddress_js_1 = require(_dependencyMap[3], \"../../utils/chain/getChainContractAddress.js\");\n  var toHex_js_1 = require(_dependencyMap[4], \"../../utils/encoding/toHex.js\");\n  var errors_js_1 = require(_dependencyMap[5], \"../../utils/ens/errors.js\");\n  var packetToBytes_js_1 = require(_dependencyMap[6], \"../../utils/ens/packetToBytes.js\");\n  var getAction_js_1 = require(_dependencyMap[7], \"../../utils/getAction.js\");\n  var readContract_js_1 = require(_dependencyMap[8], \"../public/readContract.js\");\n  function getEnsName(_x, _x2) {\n    return _getEnsName.apply(this, arguments);\n  }\n  function _getEnsName() {\n    _getEnsName = _asyncToGenerator(function* (client, _ref) {\n      var address = _ref.address,\n        blockNumber = _ref.blockNumber,\n        blockTag = _ref.blockTag,\n        gatewayUrls = _ref.gatewayUrls,\n        strict = _ref.strict,\n        universalResolverAddress_ = _ref.universalResolverAddress;\n      var universalResolverAddress = universalResolverAddress_;\n      if (!universalResolverAddress) {\n        if (!client.chain) throw new Error('client chain not configured. universalResolverAddress is required.');\n        universalResolverAddress = (0, getChainContractAddress_js_1.getChainContractAddress)({\n          blockNumber,\n          chain: client.chain,\n          contract: 'ensUniversalResolver'\n        });\n      }\n      var reverseNode = `${address.toLowerCase().substring(2)}.addr.reverse`;\n      try {\n        var readContractParameters = {\n          address: universalResolverAddress,\n          abi: abis_js_1.universalResolverReverseAbi,\n          functionName: 'reverse',\n          args: [(0, toHex_js_1.toHex)((0, packetToBytes_js_1.packetToBytes)(reverseNode))],\n          blockNumber,\n          blockTag\n        };\n        var readContractAction = (0, getAction_js_1.getAction)(client, readContract_js_1.readContract, 'readContract');\n        var _ref2 = gatewayUrls ? yield readContractAction({\n            ...readContractParameters,\n            args: [...readContractParameters.args, gatewayUrls]\n          }) : yield readContractAction(readContractParameters),\n          _ref3 = _slicedToArray(_ref2, 2),\n          name = _ref3[0],\n          resolvedAddress = _ref3[1];\n        if (address.toLowerCase() !== resolvedAddress.toLowerCase()) return null;\n        return name;\n      } catch (err) {\n        if (strict) throw err;\n        if ((0, errors_js_1.isNullUniversalResolverError)(err, 'reverse')) return null;\n        throw err;\n      }\n    });\n    return _getEnsName.apply(this, arguments);\n  }\n});","lineCount":65,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_slicedToArray"],[4,20,1,13],[4,23,1,13,"require"],[4,30,1,13],[4,31,1,13,"_dependencyMap"],[4,45,1,13],[5,2,1,13],[5,6,1,13,"_asyncToGenerator"],[5,23,1,13],[5,26,1,13,"require"],[5,33,1,13],[5,34,1,13,"_dependencyMap"],[5,48,1,13],[6,2,2,0,"Object"],[6,8,2,6],[6,9,2,7,"defineProperty"],[6,23,2,21],[6,24,2,22,"exports"],[6,31,2,29],[6,33,2,31],[6,45,2,43],[6,47,2,45],[7,4,2,47,"value"],[7,9,2,52],[7,11,2,54],[8,2,2,59],[8,3,2,60],[8,4,2,61],[9,2,3,0,"exports"],[9,9,3,7],[9,10,3,8,"getEnsName"],[9,20,3,18],[9,23,3,21,"getEnsName"],[9,33,3,31],[10,2,4,0],[10,6,4,6,"abis_js_1"],[10,15,4,15],[10,18,4,18,"require"],[10,25,4,25],[10,26,4,25,"_dependencyMap"],[10,40,4,25],[10,70,4,51],[10,71,4,52],[11,2,5,0],[11,6,5,6,"getChainContractAddress_js_1"],[11,34,5,34],[11,37,5,37,"require"],[11,44,5,44],[11,45,5,44,"_dependencyMap"],[11,59,5,44],[11,110,5,91],[11,111,5,92],[12,2,6,0],[12,6,6,6,"toHex_js_1"],[12,16,6,16],[12,19,6,19,"require"],[12,26,6,26],[12,27,6,26,"_dependencyMap"],[12,41,6,26],[12,77,6,58],[12,78,6,59],[13,2,7,0],[13,6,7,6,"errors_js_1"],[13,17,7,17],[13,20,7,20,"require"],[13,27,7,27],[13,28,7,27,"_dependencyMap"],[13,42,7,27],[13,74,7,55],[13,75,7,56],[14,2,8,0],[14,6,8,6,"packetToBytes_js_1"],[14,24,8,24],[14,27,8,27,"require"],[14,34,8,34],[14,35,8,34,"_dependencyMap"],[14,49,8,34],[14,88,8,69],[14,89,8,70],[15,2,9,0],[15,6,9,6,"getAction_js_1"],[15,20,9,20],[15,23,9,23,"require"],[15,30,9,30],[15,31,9,30,"_dependencyMap"],[15,45,9,30],[15,76,9,57],[15,77,9,58],[16,2,10,0],[16,6,10,6,"readContract_js_1"],[16,23,10,23],[16,26,10,26,"require"],[16,33,10,33],[16,34,10,33,"_dependencyMap"],[16,48,10,33],[16,80,10,61],[16,81,10,62],[17,2,10,63],[17,11,11,15,"getEnsName"],[17,21,11,25,"getEnsName"],[17,22,11,25,"_x"],[17,24,11,25],[17,26,11,25,"_x2"],[17,29,11,25],[18,4,11,25],[18,11,11,25,"_getEnsName"],[18,22,11,25],[18,23,11,25,"apply"],[18,28,11,25],[18,35,11,25,"arguments"],[18,44,11,25],[19,2,11,25],[20,2,11,25],[20,11,11,25,"_getEnsName"],[20,23,11,25],[21,4,11,25,"_getEnsName"],[21,15,11,25],[21,18,11,25,"_asyncToGenerator"],[21,35,11,25],[21,36,11,0],[21,47,11,26,"client"],[21,53,11,32],[21,55,11,32,"_ref"],[21,59,11,32],[21,61,11,145],[22,6,11,145],[22,10,11,36,"address"],[22,17,11,43],[22,20,11,43,"_ref"],[22,24,11,43],[22,25,11,36,"address"],[22,32,11,43],[23,8,11,45,"blockNumber"],[23,19,11,56],[23,22,11,56,"_ref"],[23,26,11,56],[23,27,11,45,"blockNumber"],[23,38,11,56],[24,8,11,58,"blockTag"],[24,16,11,66],[24,19,11,66,"_ref"],[24,23,11,66],[24,24,11,58,"blockTag"],[24,32,11,66],[25,8,11,68,"gatewayUrls"],[25,19,11,79],[25,22,11,79,"_ref"],[25,26,11,79],[25,27,11,68,"gatewayUrls"],[25,38,11,79],[26,8,11,81,"strict"],[26,14,11,87],[26,17,11,87,"_ref"],[26,21,11,87],[26,22,11,81,"strict"],[26,28,11,87],[27,8,11,115,"universalResolverAddress_"],[27,33,11,140],[27,36,11,140,"_ref"],[27,40,11,140],[27,41,11,89,"universalResolverAddress"],[27,65,11,113],[28,6,12,4],[28,10,12,8,"universalResolverAddress"],[28,34,12,32],[28,37,12,35,"universalResolverAddress_"],[28,62,12,60],[29,6,13,4],[29,10,13,8],[29,11,13,9,"universalResolverAddress"],[29,35,13,33],[29,37,13,35],[30,8,14,8],[30,12,14,12],[30,13,14,13,"client"],[30,19,14,19],[30,20,14,20,"chain"],[30,25,14,25],[30,27,15,12],[30,33,15,18],[30,37,15,22,"Error"],[30,42,15,27],[30,43,15,28],[30,111,15,96],[30,112,15,97],[31,8,16,8,"universalResolverAddress"],[31,32,16,32],[31,35,16,35],[31,36,16,36],[31,37,16,37],[31,39,16,39,"getChainContractAddress_js_1"],[31,67,16,67],[31,68,16,68,"getChainContractAddress"],[31,91,16,91],[31,93,16,93],[32,10,17,12,"blockNumber"],[32,21,17,23],[33,10,18,12,"chain"],[33,15,18,17],[33,17,18,19,"client"],[33,23,18,25],[33,24,18,26,"chain"],[33,29,18,31],[34,10,19,12,"contract"],[34,18,19,20],[34,20,19,22],[35,8,20,8],[35,9,20,9],[35,10,20,10],[36,6,21,4],[37,6,22,4],[37,10,22,10,"reverseNode"],[37,21,22,21],[37,24,22,24],[37,27,22,27,"address"],[37,34,22,34],[37,35,22,35,"toLowerCase"],[37,46,22,46],[37,47,22,47],[37,48,22,48],[37,49,22,49,"substring"],[37,58,22,58],[37,59,22,59],[37,60,22,60],[37,61,22,61],[37,76,22,76],[38,6,23,4],[38,10,23,8],[39,8,24,8],[39,12,24,14,"readContractParameters"],[39,34,24,36],[39,37,24,39],[40,10,25,12,"address"],[40,17,25,19],[40,19,25,21,"universalResolverAddress"],[40,43,25,45],[41,10,26,12,"abi"],[41,13,26,15],[41,15,26,17,"abis_js_1"],[41,24,26,26],[41,25,26,27,"universalResolverReverseAbi"],[41,52,26,54],[42,10,27,12,"functionName"],[42,22,27,24],[42,24,27,26],[42,33,27,35],[43,10,28,12,"args"],[43,14,28,16],[43,16,28,18],[43,17,28,19],[43,18,28,20],[43,19,28,21],[43,21,28,23,"toHex_js_1"],[43,31,28,33],[43,32,28,34,"toHex"],[43,37,28,39],[43,39,28,41],[43,40,28,42],[43,41,28,43],[43,43,28,45,"packetToBytes_js_1"],[43,61,28,63],[43,62,28,64,"packetToBytes"],[43,75,28,77],[43,77,28,79,"reverseNode"],[43,88,28,90],[43,89,28,91],[43,90,28,92],[43,91,28,93],[44,10,29,12,"blockNumber"],[44,21,29,23],[45,10,30,12,"blockTag"],[46,8,31,8],[46,9,31,9],[47,8,32,8],[47,12,32,14,"readContractAction"],[47,30,32,32],[47,33,32,35],[47,34,32,36],[47,35,32,37],[47,37,32,39,"getAction_js_1"],[47,51,32,53],[47,52,32,54,"getAction"],[47,61,32,63],[47,63,32,65,"client"],[47,69,32,71],[47,71,32,73,"readContract_js_1"],[47,88,32,90],[47,89,32,91,"readContract"],[47,101,32,103],[47,103,32,105],[47,117,32,119],[47,118,32,120],[48,8,33,8],[48,12,33,8,"_ref2"],[48,17,33,8],[48,20,33,40,"gatewayUrls"],[48,31,33,51],[48,40,34,20,"readContractAction"],[48,58,34,38],[48,59,34,39],[49,12,35,16],[49,15,35,19,"readContractParameters"],[49,37,35,41],[50,12,36,16,"args"],[50,16,36,20],[50,18,36,22],[50,19,36,23],[50,22,36,26,"readContractParameters"],[50,44,36,48],[50,45,36,49,"args"],[50,49,36,53],[50,51,36,55,"gatewayUrls"],[50,62,36,66],[51,10,37,12],[51,11,37,13],[51,12,37,14],[51,21,38,20,"readContractAction"],[51,39,38,38],[51,40,38,39,"readContractParameters"],[51,62,38,61],[51,63,38,62],[52,10,38,62,"_ref3"],[52,15,38,62],[52,18,38,62,"_slicedToArray"],[52,32,38,62],[52,33,38,62,"_ref2"],[52,38,38,62],[53,10,33,15,"name"],[53,14,33,19],[53,17,33,19,"_ref3"],[53,22,33,19],[54,10,33,21,"resolvedAddress"],[54,25,33,36],[54,28,33,36,"_ref3"],[54,33,33,36],[55,8,39,8],[55,12,39,12,"address"],[55,19,39,19],[55,20,39,20,"toLowerCase"],[55,31,39,31],[55,32,39,32],[55,33,39,33],[55,38,39,38,"resolvedAddress"],[55,53,39,53],[55,54,39,54,"toLowerCase"],[55,65,39,65],[55,66,39,66],[55,67,39,67],[55,69,40,12],[55,76,40,19],[55,80,40,23],[56,8,41,8],[56,15,41,15,"name"],[56,19,41,19],[57,6,42,4],[57,7,42,5],[57,8,43,4],[57,15,43,11,"err"],[57,18,43,14],[57,20,43,16],[58,8,44,8],[58,12,44,12,"strict"],[58,18,44,18],[58,20,45,12],[58,26,45,18,"err"],[58,29,45,21],[59,8,46,8],[59,12,46,12],[59,13,46,13],[59,14,46,14],[59,16,46,16,"errors_js_1"],[59,27,46,27],[59,28,46,28,"isNullUniversalResolverError"],[59,56,46,56],[59,58,46,58,"err"],[59,61,46,61],[59,63,46,63],[59,72,46,72],[59,73,46,73],[59,75,47,12],[59,82,47,19],[59,86,47,23],[60,8,48,8],[60,14,48,14,"err"],[60,17,48,17],[61,6,49,4],[62,4,50,0],[62,5,50,1],[63,4,50,1],[63,11,50,1,"_getEnsName"],[63,22,50,1],[63,23,50,1,"apply"],[63,28,50,1],[63,35,50,1,"arguments"],[63,44,50,1],[64,2,50,1],[65,0,50,1],[65,3]],"functionMap":{"names":["<global>","getEnsName"],"mappings":"AAA;ACU;CDuC"}},"type":"js/module"}]}