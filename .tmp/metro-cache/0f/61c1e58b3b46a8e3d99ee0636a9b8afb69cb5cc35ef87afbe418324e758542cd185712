{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":71,"column":41,"index":3300}}],"key":"8I802z/QkQYw0PV6ZCqhBNDwn0Q="}},{"name":"../../constants/abis.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":4,"column":18,"index":134},"end":{"line":4,"column":52,"index":168}}],"key":"CDB2K6HWcOArICtRebmnd4vu9/M="}},{"name":"../../utils/abi/decodeFunctionResult.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":5,"column":34,"index":204},"end":{"line":5,"column":84,"index":254}}],"key":"5luVFMCCdwnL6JGylx//78TqXfs="}},{"name":"../../utils/abi/encodeFunctionData.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":6,"column":32,"index":288},"end":{"line":6,"column":80,"index":336}}],"key":"k6DKt1NuhSk38W4TkpjEP1M8d4E="}},{"name":"../../utils/chain/getChainContractAddress.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":7,"column":37,"index":375},"end":{"line":7,"column":92,"index":430}}],"key":"jIIcEhlpX2NMwvqrlbwBzJJeO7M="}},{"name":"../../utils/data/trim.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":8,"column":18,"index":450},"end":{"line":8,"column":53,"index":485}}],"key":"RpVpxfJZF8uhboxwtljjRX93kFs="}},{"name":"../../utils/encoding/toHex.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":9,"column":19,"index":506},"end":{"line":9,"column":59,"index":546}}],"key":"lzoYQ59yxspkeAGLn+iikiFGcWQ="}},{"name":"../../utils/ens/errors.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":10,"column":20,"index":568},"end":{"line":10,"column":56,"index":604}}],"key":"PRkhDVGaxurJ8Msz2f2AoowCaqE="}},{"name":"../../utils/ens/namehash.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":11,"column":22,"index":628},"end":{"line":11,"column":60,"index":666}}],"key":"rMu9CQfhRiGlGZrdmCQ3yN92iLs="}},{"name":"../../utils/ens/packetToBytes.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":12,"column":27,"index":695},"end":{"line":12,"column":70,"index":738}}],"key":"5zysRhQuCii3l2jGrDCrmJWwuc8="}},{"name":"../../utils/getAction.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":13,"column":23,"index":763},"end":{"line":13,"column":58,"index":798}}],"key":"Y/n4m+r52hYXgM0UylfgsDfMHzI="}},{"name":"../public/readContract.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":14,"column":26,"index":826},"end":{"line":14,"column":62,"index":862}}],"key":"c2Q5achBSwT5ERTusHrlU/WHS+g="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _asyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getEnsAddress = getEnsAddress;\n  var abis_js_1 = require(_dependencyMap[1], \"../../constants/abis.js\");\n  var decodeFunctionResult_js_1 = require(_dependencyMap[2], \"../../utils/abi/decodeFunctionResult.js\");\n  var encodeFunctionData_js_1 = require(_dependencyMap[3], \"../../utils/abi/encodeFunctionData.js\");\n  var getChainContractAddress_js_1 = require(_dependencyMap[4], \"../../utils/chain/getChainContractAddress.js\");\n  var trim_js_1 = require(_dependencyMap[5], \"../../utils/data/trim.js\");\n  var toHex_js_1 = require(_dependencyMap[6], \"../../utils/encoding/toHex.js\");\n  var errors_js_1 = require(_dependencyMap[7], \"../../utils/ens/errors.js\");\n  var namehash_js_1 = require(_dependencyMap[8], \"../../utils/ens/namehash.js\");\n  var packetToBytes_js_1 = require(_dependencyMap[9], \"../../utils/ens/packetToBytes.js\");\n  var getAction_js_1 = require(_dependencyMap[10], \"../../utils/getAction.js\");\n  var readContract_js_1 = require(_dependencyMap[11], \"../public/readContract.js\");\n  function getEnsAddress(_x, _x2) {\n    return _getEnsAddress.apply(this, arguments);\n  }\n  function _getEnsAddress() {\n    _getEnsAddress = _asyncToGenerator(function* (client, _ref) {\n      var blockNumber = _ref.blockNumber,\n        blockTag = _ref.blockTag,\n        coinType = _ref.coinType,\n        name = _ref.name,\n        gatewayUrls = _ref.gatewayUrls,\n        strict = _ref.strict,\n        universalResolverAddress_ = _ref.universalResolverAddress;\n      var universalResolverAddress = universalResolverAddress_;\n      if (!universalResolverAddress) {\n        if (!client.chain) throw new Error('client chain not configured. universalResolverAddress is required.');\n        universalResolverAddress = (0, getChainContractAddress_js_1.getChainContractAddress)({\n          blockNumber,\n          chain: client.chain,\n          contract: 'ensUniversalResolver'\n        });\n      }\n      try {\n        var functionData = (0, encodeFunctionData_js_1.encodeFunctionData)({\n          abi: abis_js_1.addressResolverAbi,\n          functionName: 'addr',\n          ...(coinType != null ? {\n            args: [(0, namehash_js_1.namehash)(name), BigInt(coinType)]\n          } : {\n            args: [(0, namehash_js_1.namehash)(name)]\n          })\n        });\n        var readContractParameters = {\n          address: universalResolverAddress,\n          abi: abis_js_1.universalResolverResolveAbi,\n          functionName: 'resolve',\n          args: [(0, toHex_js_1.toHex)((0, packetToBytes_js_1.packetToBytes)(name)), functionData],\n          blockNumber,\n          blockTag\n        };\n        var readContractAction = (0, getAction_js_1.getAction)(client, readContract_js_1.readContract, 'readContract');\n        var res = gatewayUrls ? yield readContractAction({\n          ...readContractParameters,\n          args: [...readContractParameters.args, gatewayUrls]\n        }) : yield readContractAction(readContractParameters);\n        if (res[0] === '0x') return null;\n        var address = (0, decodeFunctionResult_js_1.decodeFunctionResult)({\n          abi: abis_js_1.addressResolverAbi,\n          args: coinType != null ? [(0, namehash_js_1.namehash)(name), BigInt(coinType)] : undefined,\n          functionName: 'addr',\n          data: res[0]\n        });\n        if (address === '0x') return null;\n        if ((0, trim_js_1.trim)(address) === '0x00') return null;\n        return address;\n      } catch (err) {\n        if (strict) throw err;\n        if ((0, errors_js_1.isNullUniversalResolverError)(err, 'resolve')) return null;\n        throw err;\n      }\n    });\n    return _getEnsAddress.apply(this, arguments);\n  }\n});","lineCount":82,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_asyncToGenerator"],[4,23,1,13],[4,26,1,13,"require"],[4,33,1,13],[4,34,1,13,"_dependencyMap"],[4,48,1,13],[5,2,2,0,"Object"],[5,8,2,6],[5,9,2,7,"defineProperty"],[5,23,2,21],[5,24,2,22,"exports"],[5,31,2,29],[5,33,2,31],[5,45,2,43],[5,47,2,45],[6,4,2,47,"value"],[6,9,2,52],[6,11,2,54],[7,2,2,59],[7,3,2,60],[7,4,2,61],[8,2,3,0,"exports"],[8,9,3,7],[8,10,3,8,"getEnsAddress"],[8,23,3,21],[8,26,3,24,"getEnsAddress"],[8,39,3,37],[9,2,4,0],[9,6,4,6,"abis_js_1"],[9,15,4,15],[9,18,4,18,"require"],[9,25,4,25],[9,26,4,25,"_dependencyMap"],[9,40,4,25],[9,70,4,51],[9,71,4,52],[10,2,5,0],[10,6,5,6,"decodeFunctionResult_js_1"],[10,31,5,31],[10,34,5,34,"require"],[10,41,5,41],[10,42,5,41,"_dependencyMap"],[10,56,5,41],[10,102,5,83],[10,103,5,84],[11,2,6,0],[11,6,6,6,"encodeFunctionData_js_1"],[11,29,6,29],[11,32,6,32,"require"],[11,39,6,39],[11,40,6,39,"_dependencyMap"],[11,54,6,39],[11,98,6,79],[11,99,6,80],[12,2,7,0],[12,6,7,6,"getChainContractAddress_js_1"],[12,34,7,34],[12,37,7,37,"require"],[12,44,7,44],[12,45,7,44,"_dependencyMap"],[12,59,7,44],[12,110,7,91],[12,111,7,92],[13,2,8,0],[13,6,8,6,"trim_js_1"],[13,15,8,15],[13,18,8,18,"require"],[13,25,8,25],[13,26,8,25,"_dependencyMap"],[13,40,8,25],[13,71,8,52],[13,72,8,53],[14,2,9,0],[14,6,9,6,"toHex_js_1"],[14,16,9,16],[14,19,9,19,"require"],[14,26,9,26],[14,27,9,26,"_dependencyMap"],[14,41,9,26],[14,77,9,58],[14,78,9,59],[15,2,10,0],[15,6,10,6,"errors_js_1"],[15,17,10,17],[15,20,10,20,"require"],[15,27,10,27],[15,28,10,27,"_dependencyMap"],[15,42,10,27],[15,74,10,55],[15,75,10,56],[16,2,11,0],[16,6,11,6,"namehash_js_1"],[16,19,11,19],[16,22,11,22,"require"],[16,29,11,29],[16,30,11,29,"_dependencyMap"],[16,44,11,29],[16,78,11,59],[16,79,11,60],[17,2,12,0],[17,6,12,6,"packetToBytes_js_1"],[17,24,12,24],[17,27,12,27,"require"],[17,34,12,34],[17,35,12,34,"_dependencyMap"],[17,49,12,34],[17,88,12,69],[17,89,12,70],[18,2,13,0],[18,6,13,6,"getAction_js_1"],[18,20,13,20],[18,23,13,23,"require"],[18,30,13,30],[18,31,13,30,"_dependencyMap"],[18,45,13,30],[18,77,13,57],[18,78,13,58],[19,2,14,0],[19,6,14,6,"readContract_js_1"],[19,23,14,23],[19,26,14,26,"require"],[19,33,14,33],[19,34,14,33,"_dependencyMap"],[19,48,14,33],[19,81,14,61],[19,82,14,62],[20,2,14,63],[20,11,15,15,"getEnsAddress"],[20,24,15,28,"getEnsAddress"],[20,25,15,28,"_x"],[20,27,15,28],[20,29,15,28,"_x2"],[20,32,15,28],[21,4,15,28],[21,11,15,28,"_getEnsAddress"],[21,25,15,28],[21,26,15,28,"apply"],[21,31,15,28],[21,38,15,28,"arguments"],[21,47,15,28],[22,2,15,28],[23,2,15,28],[23,11,15,28,"_getEnsAddress"],[23,26,15,28],[24,4,15,28,"_getEnsAddress"],[24,18,15,28],[24,21,15,28,"_asyncToGenerator"],[24,38,15,28],[24,39,15,0],[24,50,15,29,"client"],[24,56,15,35],[24,58,15,35,"_ref"],[24,62,15,35],[24,64,15,155],[25,6,15,155],[25,10,15,39,"blockNumber"],[25,21,15,50],[25,24,15,50,"_ref"],[25,28,15,50],[25,29,15,39,"blockNumber"],[25,40,15,50],[26,8,15,52,"blockTag"],[26,16,15,60],[26,19,15,60,"_ref"],[26,23,15,60],[26,24,15,52,"blockTag"],[26,32,15,60],[27,8,15,62,"coinType"],[27,16,15,70],[27,19,15,70,"_ref"],[27,23,15,70],[27,24,15,62,"coinType"],[27,32,15,70],[28,8,15,72,"name"],[28,12,15,76],[28,15,15,76,"_ref"],[28,19,15,76],[28,20,15,72,"name"],[28,24,15,76],[29,8,15,78,"gatewayUrls"],[29,19,15,89],[29,22,15,89,"_ref"],[29,26,15,89],[29,27,15,78,"gatewayUrls"],[29,38,15,89],[30,8,15,91,"strict"],[30,14,15,97],[30,17,15,97,"_ref"],[30,21,15,97],[30,22,15,91,"strict"],[30,28,15,97],[31,8,15,125,"universalResolverAddress_"],[31,33,15,150],[31,36,15,150,"_ref"],[31,40,15,150],[31,41,15,99,"universalResolverAddress"],[31,65,15,123],[32,6,16,4],[32,10,16,8,"universalResolverAddress"],[32,34,16,32],[32,37,16,35,"universalResolverAddress_"],[32,62,16,60],[33,6,17,4],[33,10,17,8],[33,11,17,9,"universalResolverAddress"],[33,35,17,33],[33,37,17,35],[34,8,18,8],[34,12,18,12],[34,13,18,13,"client"],[34,19,18,19],[34,20,18,20,"chain"],[34,25,18,25],[34,27,19,12],[34,33,19,18],[34,37,19,22,"Error"],[34,42,19,27],[34,43,19,28],[34,111,19,96],[34,112,19,97],[35,8,20,8,"universalResolverAddress"],[35,32,20,32],[35,35,20,35],[35,36,20,36],[35,37,20,37],[35,39,20,39,"getChainContractAddress_js_1"],[35,67,20,67],[35,68,20,68,"getChainContractAddress"],[35,91,20,91],[35,93,20,93],[36,10,21,12,"blockNumber"],[36,21,21,23],[37,10,22,12,"chain"],[37,15,22,17],[37,17,22,19,"client"],[37,23,22,25],[37,24,22,26,"chain"],[37,29,22,31],[38,10,23,12,"contract"],[38,18,23,20],[38,20,23,22],[39,8,24,8],[39,9,24,9],[39,10,24,10],[40,6,25,4],[41,6,26,4],[41,10,26,8],[42,8,27,8],[42,12,27,14,"functionData"],[42,24,27,26],[42,27,27,29],[42,28,27,30],[42,29,27,31],[42,31,27,33,"encodeFunctionData_js_1"],[42,54,27,56],[42,55,27,57,"encodeFunctionData"],[42,73,27,75],[42,75,27,77],[43,10,28,12,"abi"],[43,13,28,15],[43,15,28,17,"abis_js_1"],[43,24,28,26],[43,25,28,27,"addressResolverAbi"],[43,43,28,45],[44,10,29,12,"functionName"],[44,22,29,24],[44,24,29,26],[44,30,29,32],[45,10,30,12],[45,14,30,16,"coinType"],[45,22,30,24],[45,26,30,28],[45,30,30,32],[45,33,31,18],[46,12,31,20,"args"],[46,16,31,24],[46,18,31,26],[46,19,31,27],[46,20,31,28],[46,21,31,29],[46,23,31,31,"namehash_js_1"],[46,36,31,44],[46,37,31,45,"namehash"],[46,45,31,53],[46,47,31,55,"name"],[46,51,31,59],[46,52,31,60],[46,54,31,62,"BigInt"],[46,60,31,68],[46,61,31,69,"coinType"],[46,69,31,77],[46,70,31,78],[47,10,31,80],[47,11,31,81],[47,14,32,18],[48,12,32,20,"args"],[48,16,32,24],[48,18,32,26],[48,19,32,27],[48,20,32,28],[48,21,32,29],[48,23,32,31,"namehash_js_1"],[48,36,32,44],[48,37,32,45,"namehash"],[48,45,32,53],[48,47,32,55,"name"],[48,51,32,59],[48,52,32,60],[49,10,32,62],[49,11,32,63],[50,8,33,8],[50,9,33,9],[50,10,33,10],[51,8,34,8],[51,12,34,14,"readContractParameters"],[51,34,34,36],[51,37,34,39],[52,10,35,12,"address"],[52,17,35,19],[52,19,35,21,"universalResolverAddress"],[52,43,35,45],[53,10,36,12,"abi"],[53,13,36,15],[53,15,36,17,"abis_js_1"],[53,24,36,26],[53,25,36,27,"universalResolverResolveAbi"],[53,52,36,54],[54,10,37,12,"functionName"],[54,22,37,24],[54,24,37,26],[54,33,37,35],[55,10,38,12,"args"],[55,14,38,16],[55,16,38,18],[55,17,38,19],[55,18,38,20],[55,19,38,21],[55,21,38,23,"toHex_js_1"],[55,31,38,33],[55,32,38,34,"toHex"],[55,37,38,39],[55,39,38,41],[55,40,38,42],[55,41,38,43],[55,43,38,45,"packetToBytes_js_1"],[55,61,38,63],[55,62,38,64,"packetToBytes"],[55,75,38,77],[55,77,38,79,"name"],[55,81,38,83],[55,82,38,84],[55,83,38,85],[55,85,38,87,"functionData"],[55,97,38,99],[55,98,38,100],[56,10,39,12,"blockNumber"],[56,21,39,23],[57,10,40,12,"blockTag"],[58,8,41,8],[58,9,41,9],[59,8,42,8],[59,12,42,14,"readContractAction"],[59,30,42,32],[59,33,42,35],[59,34,42,36],[59,35,42,37],[59,37,42,39,"getAction_js_1"],[59,51,42,53],[59,52,42,54,"getAction"],[59,61,42,63],[59,63,42,65,"client"],[59,69,42,71],[59,71,42,73,"readContract_js_1"],[59,88,42,90],[59,89,42,91,"readContract"],[59,101,42,103],[59,103,42,105],[59,117,42,119],[59,118,42,120],[60,8,43,8],[60,12,43,14,"res"],[60,15,43,17],[60,18,43,20,"gatewayUrls"],[60,29,43,31],[60,38,44,20,"readContractAction"],[60,56,44,38],[60,57,44,39],[61,10,45,16],[61,13,45,19,"readContractParameters"],[61,35,45,41],[62,10,46,16,"args"],[62,14,46,20],[62,16,46,22],[62,17,46,23],[62,20,46,26,"readContractParameters"],[62,42,46,48],[62,43,46,49,"args"],[62,47,46,53],[62,49,46,55,"gatewayUrls"],[62,60,46,66],[63,8,47,12],[63,9,47,13],[63,10,47,14],[63,19,48,20,"readContractAction"],[63,37,48,38],[63,38,48,39,"readContractParameters"],[63,60,48,61],[63,61,48,62],[64,8,49,8],[64,12,49,12,"res"],[64,15,49,15],[64,16,49,16],[64,17,49,17],[64,18,49,18],[64,23,49,23],[64,27,49,27],[64,29,50,12],[64,36,50,19],[64,40,50,23],[65,8,51,8],[65,12,51,14,"address"],[65,19,51,21],[65,22,51,24],[65,23,51,25],[65,24,51,26],[65,26,51,28,"decodeFunctionResult_js_1"],[65,51,51,53],[65,52,51,54,"decodeFunctionResult"],[65,72,51,74],[65,74,51,76],[66,10,52,12,"abi"],[66,13,52,15],[66,15,52,17,"abis_js_1"],[66,24,52,26],[66,25,52,27,"addressResolverAbi"],[66,43,52,45],[67,10,53,12,"args"],[67,14,53,16],[67,16,53,18,"coinType"],[67,24,53,26],[67,28,53,30],[67,32,53,34],[67,35,53,37],[67,36,53,38],[67,37,53,39],[67,38,53,40],[67,40,53,42,"namehash_js_1"],[67,53,53,55],[67,54,53,56,"namehash"],[67,62,53,64],[67,64,53,66,"name"],[67,68,53,70],[67,69,53,71],[67,71,53,73,"BigInt"],[67,77,53,79],[67,78,53,80,"coinType"],[67,86,53,88],[67,87,53,89],[67,88,53,90],[67,91,53,93,"undefined"],[67,100,53,102],[68,10,54,12,"functionName"],[68,22,54,24],[68,24,54,26],[68,30,54,32],[69,10,55,12,"data"],[69,14,55,16],[69,16,55,18,"res"],[69,19,55,21],[69,20,55,22],[69,21,55,23],[70,8,56,8],[70,9,56,9],[70,10,56,10],[71,8,57,8],[71,12,57,12,"address"],[71,19,57,19],[71,24,57,24],[71,28,57,28],[71,30,58,12],[71,37,58,19],[71,41,58,23],[72,8,59,8],[72,12,59,12],[72,13,59,13],[72,14,59,14],[72,16,59,16,"trim_js_1"],[72,25,59,25],[72,26,59,26,"trim"],[72,30,59,30],[72,32,59,32,"address"],[72,39,59,39],[72,40,59,40],[72,45,59,45],[72,51,59,51],[72,53,60,12],[72,60,60,19],[72,64,60,23],[73,8,61,8],[73,15,61,15,"address"],[73,22,61,22],[74,6,62,4],[74,7,62,5],[74,8,63,4],[74,15,63,11,"err"],[74,18,63,14],[74,20,63,16],[75,8,64,8],[75,12,64,12,"strict"],[75,18,64,18],[75,20,65,12],[75,26,65,18,"err"],[75,29,65,21],[76,8,66,8],[76,12,66,12],[76,13,66,13],[76,14,66,14],[76,16,66,16,"errors_js_1"],[76,27,66,27],[76,28,66,28,"isNullUniversalResolverError"],[76,56,66,56],[76,58,66,58,"err"],[76,61,66,61],[76,63,66,63],[76,72,66,72],[76,73,66,73],[76,75,67,12],[76,82,67,19],[76,86,67,23],[77,8,68,8],[77,14,68,14,"err"],[77,17,68,17],[78,6,69,4],[79,4,70,0],[79,5,70,1],[80,4,70,1],[80,11,70,1,"_getEnsAddress"],[80,25,70,1],[80,26,70,1,"apply"],[80,31,70,1],[80,38,70,1,"arguments"],[80,47,70,1],[81,2,70,1],[82,0,70,1],[82,3]],"functionMap":{"names":["<global>","getEnsAddress"],"mappings":"AAA;ACc;CDuD"}},"type":"js/module"}]}