{"dependencies":[{"name":"./constants","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":112,"index":112}}],"key":"+w+ycjOssqrFJ0RRPi082paMSXY="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getError = getError;\n  exports.getErrorByCode = getErrorByCode;\n  exports.isReservedErrorCode = isReservedErrorCode;\n  exports.isServerErrorCode = isServerErrorCode;\n  exports.isValidErrorCode = isValidErrorCode;\n  exports.parseConnectionError = parseConnectionError;\n  exports.validateJsonRpcError = validateJsonRpcError;\n  var _constants = require(_dependencyMap[0], \"./constants\");\n  function isServerErrorCode(code) {\n    return code <= _constants.SERVER_ERROR_CODE_RANGE[0] && code >= _constants.SERVER_ERROR_CODE_RANGE[1];\n  }\n  function isReservedErrorCode(code) {\n    return _constants.RESERVED_ERROR_CODES.includes(code);\n  }\n  function isValidErrorCode(code) {\n    return typeof code === \"number\";\n  }\n  function getError(type) {\n    if (!Object.keys(_constants.STANDARD_ERROR_MAP).includes(type)) {\n      return _constants.STANDARD_ERROR_MAP[_constants.DEFAULT_ERROR];\n    }\n    return _constants.STANDARD_ERROR_MAP[type];\n  }\n  function getErrorByCode(code) {\n    var match = Object.values(_constants.STANDARD_ERROR_MAP).find(e => e.code === code);\n    if (!match) {\n      return _constants.STANDARD_ERROR_MAP[_constants.DEFAULT_ERROR];\n    }\n    return match;\n  }\n  function validateJsonRpcError(response) {\n    if (typeof response.error.code === \"undefined\") {\n      return {\n        valid: false,\n        error: \"Missing code for JSON-RPC error\"\n      };\n    }\n    if (typeof response.error.message === \"undefined\") {\n      return {\n        valid: false,\n        error: \"Missing message for JSON-RPC error\"\n      };\n    }\n    if (!isValidErrorCode(response.error.code)) {\n      return {\n        valid: false,\n        error: `Invalid error code type for JSON-RPC: ${response.error.code}`\n      };\n    }\n    if (isReservedErrorCode(response.error.code)) {\n      var error = getErrorByCode(response.error.code);\n      if (error.message !== _constants.STANDARD_ERROR_MAP[_constants.DEFAULT_ERROR].message && response.error.message === error.message) {\n        return {\n          valid: false,\n          error: `Invalid error code message for JSON-RPC: ${response.error.code}`\n        };\n      }\n    }\n    return {\n      valid: true\n    };\n  }\n  function parseConnectionError(e, url, type) {\n    return e.message.includes(\"getaddrinfo ENOTFOUND\") || e.message.includes(\"connect ECONNREFUSED\") ? new Error(`Unavailable ${type} RPC url at ${url}`) : e;\n  }\n});","lineCount":70,"map":[[12,2,1,0],[12,6,1,0,"_constants"],[12,16,1,0],[12,19,1,0,"require"],[12,26,1,0],[12,27,1,0,"_dependencyMap"],[12,41,1,0],[13,2,2,7],[13,11,2,16,"isServerErrorCode"],[13,28,2,33,"isServerErrorCode"],[13,29,2,34,"code"],[13,33,2,38],[13,35,2,40],[14,4,3,4],[14,11,3,11,"code"],[14,15,3,15],[14,19,3,19,"SERVER_ERROR_CODE_RANGE"],[14,53,3,42],[14,54,3,43],[14,55,3,44],[14,56,3,45],[14,60,3,49,"code"],[14,64,3,53],[14,68,3,57,"SERVER_ERROR_CODE_RANGE"],[14,102,3,80],[14,103,3,81],[14,104,3,82],[14,105,3,83],[15,2,4,0],[16,2,5,7],[16,11,5,16,"isReservedErrorCode"],[16,30,5,35,"isReservedErrorCode"],[16,31,5,36,"code"],[16,35,5,40],[16,37,5,42],[17,4,6,4],[17,11,6,11,"RESERVED_ERROR_CODES"],[17,42,6,31],[17,43,6,32,"includes"],[17,51,6,40],[17,52,6,41,"code"],[17,56,6,45],[17,57,6,46],[18,2,7,0],[19,2,8,7],[19,11,8,16,"isValidErrorCode"],[19,27,8,32,"isValidErrorCode"],[19,28,8,33,"code"],[19,32,8,37],[19,34,8,39],[20,4,9,4],[20,11,9,11],[20,18,9,18,"code"],[20,22,9,22],[20,27,9,27],[20,35,9,35],[21,2,10,0],[22,2,11,7],[22,11,11,16,"getError"],[22,19,11,24,"getError"],[22,20,11,25,"type"],[22,24,11,29],[22,26,11,31],[23,4,12,4],[23,8,12,8],[23,9,12,9,"Object"],[23,15,12,15],[23,16,12,16,"keys"],[23,20,12,20],[23,21,12,21,"STANDARD_ERROR_MAP"],[23,50,12,39],[23,51,12,40],[23,52,12,41,"includes"],[23,60,12,49],[23,61,12,50,"type"],[23,65,12,54],[23,66,12,55],[23,68,12,57],[24,6,13,8],[24,13,13,15,"STANDARD_ERROR_MAP"],[24,42,13,33],[24,43,13,34,"DEFAULT_ERROR"],[24,67,13,47],[24,68,13,48],[25,4,14,4],[26,4,15,4],[26,11,15,11,"STANDARD_ERROR_MAP"],[26,40,15,29],[26,41,15,30,"type"],[26,45,15,34],[26,46,15,35],[27,2,16,0],[28,2,17,7],[28,11,17,16,"getErrorByCode"],[28,25,17,30,"getErrorByCode"],[28,26,17,31,"code"],[28,30,17,35],[28,32,17,37],[29,4,18,4],[29,8,18,10,"match"],[29,13,18,15],[29,16,18,18,"Object"],[29,22,18,24],[29,23,18,25,"values"],[29,29,18,31],[29,30,18,32,"STANDARD_ERROR_MAP"],[29,59,18,50],[29,60,18,51],[29,61,18,52,"find"],[29,65,18,56],[29,66,18,57,"e"],[29,67,18,58],[29,71,18,62,"e"],[29,72,18,63],[29,73,18,64,"code"],[29,77,18,68],[29,82,18,73,"code"],[29,86,18,77],[29,87,18,78],[30,4,19,4],[30,8,19,8],[30,9,19,9,"match"],[30,14,19,14],[30,16,19,16],[31,6,20,8],[31,13,20,15,"STANDARD_ERROR_MAP"],[31,42,20,33],[31,43,20,34,"DEFAULT_ERROR"],[31,67,20,47],[31,68,20,48],[32,4,21,4],[33,4,22,4],[33,11,22,11,"match"],[33,16,22,16],[34,2,23,0],[35,2,24,7],[35,11,24,16,"validateJsonRpcError"],[35,31,24,36,"validateJsonRpcError"],[35,32,24,37,"response"],[35,40,24,45],[35,42,24,47],[36,4,25,4],[36,8,25,8],[36,15,25,15,"response"],[36,23,25,23],[36,24,25,24,"error"],[36,29,25,29],[36,30,25,30,"code"],[36,34,25,34],[36,39,25,39],[36,50,25,50],[36,52,25,52],[37,6,26,8],[37,13,26,15],[38,8,26,17,"valid"],[38,13,26,22],[38,15,26,24],[38,20,26,29],[39,8,26,31,"error"],[39,13,26,36],[39,15,26,38],[40,6,26,72],[40,7,26,73],[41,4,27,4],[42,4,28,4],[42,8,28,8],[42,15,28,15,"response"],[42,23,28,23],[42,24,28,24,"error"],[42,29,28,29],[42,30,28,30,"message"],[42,37,28,37],[42,42,28,42],[42,53,28,53],[42,55,28,55],[43,6,29,8],[43,13,29,15],[44,8,29,17,"valid"],[44,13,29,22],[44,15,29,24],[44,20,29,29],[45,8,29,31,"error"],[45,13,29,36],[45,15,29,38],[46,6,29,75],[46,7,29,76],[47,4,30,4],[48,4,31,4],[48,8,31,8],[48,9,31,9,"isValidErrorCode"],[48,25,31,25],[48,26,31,26,"response"],[48,34,31,34],[48,35,31,35,"error"],[48,40,31,40],[48,41,31,41,"code"],[48,45,31,45],[48,46,31,46],[48,48,31,48],[49,6,32,8],[49,13,32,15],[50,8,33,12,"valid"],[50,13,33,17],[50,15,33,19],[50,20,33,24],[51,8,34,12,"error"],[51,13,34,17],[51,15,34,19],[51,56,34,60,"response"],[51,64,34,68],[51,65,34,69,"error"],[51,70,34,74],[51,71,34,75,"code"],[51,75,34,79],[52,6,35,8],[52,7,35,9],[53,4,36,4],[54,4,37,4],[54,8,37,8,"isReservedErrorCode"],[54,27,37,27],[54,28,37,28,"response"],[54,36,37,36],[54,37,37,37,"error"],[54,42,37,42],[54,43,37,43,"code"],[54,47,37,47],[54,48,37,48],[54,50,37,50],[55,6,38,8],[55,10,38,14,"error"],[55,15,38,19],[55,18,38,22,"getErrorByCode"],[55,32,38,36],[55,33,38,37,"response"],[55,41,38,45],[55,42,38,46,"error"],[55,47,38,51],[55,48,38,52,"code"],[55,52,38,56],[55,53,38,57],[56,6,39,8],[56,10,39,12,"error"],[56,15,39,17],[56,16,39,18,"message"],[56,23,39,25],[56,28,39,30,"STANDARD_ERROR_MAP"],[56,57,39,48],[56,58,39,49,"DEFAULT_ERROR"],[56,82,39,62],[56,83,39,63],[56,84,39,64,"message"],[56,91,39,71],[56,95,40,12,"response"],[56,103,40,20],[56,104,40,21,"error"],[56,109,40,26],[56,110,40,27,"message"],[56,117,40,34],[56,122,40,39,"error"],[56,127,40,44],[56,128,40,45,"message"],[56,135,40,52],[56,137,40,54],[57,8,41,12],[57,15,41,19],[58,10,42,16,"valid"],[58,15,42,21],[58,17,42,23],[58,22,42,28],[59,10,43,16,"error"],[59,15,43,21],[59,17,43,23],[59,61,43,67,"response"],[59,69,43,75],[59,70,43,76,"error"],[59,75,43,81],[59,76,43,82,"code"],[59,80,43,86],[60,8,44,12],[60,9,44,13],[61,6,45,8],[62,4,46,4],[63,4,47,4],[63,11,47,11],[64,6,47,13,"valid"],[64,11,47,18],[64,13,47,20],[65,4,47,25],[65,5,47,26],[66,2,48,0],[67,2,49,7],[67,11,49,16,"parseConnectionError"],[67,31,49,36,"parseConnectionError"],[67,32,49,37,"e"],[67,33,49,38],[67,35,49,40,"url"],[67,38,49,43],[67,40,49,45,"type"],[67,44,49,49],[67,46,49,51],[68,4,50,4],[68,11,50,11,"e"],[68,12,50,12],[68,13,50,13,"message"],[68,20,50,20],[68,21,50,21,"includes"],[68,29,50,29],[68,30,50,30],[68,53,50,53],[68,54,50,54],[68,58,50,58,"e"],[68,59,50,59],[68,60,50,60,"message"],[68,67,50,67],[68,68,50,68,"includes"],[68,76,50,76],[68,77,50,77],[68,99,50,99],[68,100,50,100],[68,103,51,10],[68,107,51,14,"Error"],[68,112,51,19],[68,113,51,20],[68,128,51,35,"type"],[68,132,51,39],[68,147,51,54,"url"],[68,150,51,57],[68,152,51,59],[68,153,51,60],[68,156,52,10,"e"],[68,157,52,11],[69,2,53,0],[70,0,53,1],[70,3]],"functionMap":{"names":["<global>","isServerErrorCode","isReservedErrorCode","isValidErrorCode","getError","getErrorByCode","Object.values.find$argument_0","validateJsonRpcError","parseConnectionError"],"mappings":"AAA;OCC;CDE;OEC;CFE;OGC;CHE;OIC;CJK;OKC;yDCC,oBD;CLK;OOC;CPwB;OQC;CRI"}},"type":"js/module"}]}