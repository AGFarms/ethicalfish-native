{"dependencies":[{"name":"react","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":7,"column":36,"index":157},"end":{"line":7,"column":52,"index":173}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}},{"name":"./NavigationContext.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":8,"column":25,"index":201},"end":{"line":8,"column":58,"index":234}}],"key":"2bWmw8YJlnG3wlqh6UhhvGFFAPg="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useFocusEvents = useFocusEvents;\n  var React = _interopRequireWildcard(require(_dependencyMap[0], \"react\"));\n  var _NavigationContext = require(_dependencyMap[1], \"./NavigationContext.js\");\n  function _getRequireWildcardCache(e) {\n    if (\"function\" != typeof WeakMap) return null;\n    var r = new WeakMap(),\n      t = new WeakMap();\n    return (_getRequireWildcardCache = function (e) {\n      return e ? t : r;\n    })(e);\n  }\n  function _interopRequireWildcard(e, r) {\n    if (!r && e && e.__esModule) return e;\n    if (null === e || \"object\" != typeof e && \"function\" != typeof e) return {\n      default: e\n    };\n    var t = _getRequireWildcardCache(r);\n    if (t && t.has(e)) return t.get(e);\n    var n = {\n        __proto__: null\n      },\n      a = Object.defineProperty && Object.getOwnPropertyDescriptor;\n    for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) {\n      var i = a ? Object.getOwnPropertyDescriptor(e, u) : null;\n      i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u];\n    }\n    return n.default = e, t && t.set(e, n), n;\n  }\n  /**\n   * Hook to take care of emitting `focus` and `blur` events.\n   */\n  function useFocusEvents(_ref) {\n    var state = _ref.state,\n      emitter = _ref.emitter;\n    var navigation = React.useContext(_NavigationContext.NavigationContext);\n    var lastFocusedKeyRef = React.useRef();\n    var currentFocusedKey = state.routes[state.index].key;\n\n    // When the parent screen changes its focus state, we also need to change child's focus\n    // Coz the child screen can't be focused if the parent screen is out of focus\n    React.useEffect(() => navigation?.addListener('focus', () => {\n      lastFocusedKeyRef.current = currentFocusedKey;\n      emitter.emit({\n        type: 'focus',\n        target: currentFocusedKey\n      });\n    }), [currentFocusedKey, emitter, navigation]);\n    React.useEffect(() => navigation?.addListener('blur', () => {\n      lastFocusedKeyRef.current = undefined;\n      emitter.emit({\n        type: 'blur',\n        target: currentFocusedKey\n      });\n    }), [currentFocusedKey, emitter, navigation]);\n    React.useEffect(() => {\n      var lastFocusedKey = lastFocusedKeyRef.current;\n      lastFocusedKeyRef.current = currentFocusedKey;\n\n      // We wouldn't have `lastFocusedKey` on initial mount\n      // Fire focus event for the current route on mount if there's no parent navigator\n      if (lastFocusedKey === undefined && !navigation) {\n        emitter.emit({\n          type: 'focus',\n          target: currentFocusedKey\n        });\n      }\n\n      // We should only emit events when the focused key changed and navigator is focused\n      // When navigator is not focused, screens inside shouldn't receive focused status either\n      if (lastFocusedKey === currentFocusedKey || !(navigation ? navigation.isFocused() : true)) {\n        return;\n      }\n      if (lastFocusedKey === undefined) {\n        // Only fire events after initial mount\n        return;\n      }\n      emitter.emit({\n        type: 'blur',\n        target: lastFocusedKey\n      });\n      emitter.emit({\n        type: 'focus',\n        target: currentFocusedKey\n      });\n    }, [currentFocusedKey, emitter, navigation]);\n  }\n});","lineCount":93,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"useFocusEvents"],[7,24,6,22],[7,27,6,25,"useFocusEvents"],[7,41,6,39],[8,2,7,0],[8,6,7,4,"React"],[8,11,7,9],[8,14,7,12,"_interopRequireWildcard"],[8,37,7,35],[8,38,7,36,"require"],[8,45,7,43],[8,46,7,43,"_dependencyMap"],[8,60,7,43],[8,72,7,51],[8,73,7,52],[8,74,7,53],[9,2,8,0],[9,6,8,4,"_NavigationContext"],[9,24,8,22],[9,27,8,25,"require"],[9,34,8,32],[9,35,8,32,"_dependencyMap"],[9,49,8,32],[9,78,8,57],[9,79,8,58],[10,2,9,0],[10,11,9,9,"_getRequireWildcardCache"],[10,35,9,33,"_getRequireWildcardCache"],[10,36,9,34,"e"],[10,37,9,35],[10,39,9,37],[11,4,9,39],[11,8,9,43],[11,18,9,53],[11,22,9,57],[11,29,9,64,"WeakMap"],[11,36,9,71],[11,38,9,73],[11,45,9,80],[11,49,9,84],[12,4,9,86],[12,8,9,90,"r"],[12,9,9,91],[12,12,9,94],[12,16,9,98,"WeakMap"],[12,23,9,105],[12,24,9,106],[12,25,9,107],[13,6,9,109,"t"],[13,7,9,110],[13,10,9,113],[13,14,9,117,"WeakMap"],[13,21,9,124],[13,22,9,125],[13,23,9,126],[14,4,9,128],[14,11,9,135],[14,12,9,136,"_getRequireWildcardCache"],[14,36,9,160],[14,39,9,163],[14,48,9,163,"_getRequireWildcardCache"],[14,49,9,173,"e"],[14,50,9,174],[14,52,9,176],[15,6,9,178],[15,13,9,185,"e"],[15,14,9,186],[15,17,9,189,"t"],[15,18,9,190],[15,21,9,193,"r"],[15,22,9,194],[16,4,9,196],[16,5,9,197],[16,7,9,199,"e"],[16,8,9,200],[16,9,9,201],[17,2,9,203],[18,2,10,0],[18,11,10,9,"_interopRequireWildcard"],[18,34,10,32,"_interopRequireWildcard"],[18,35,10,33,"e"],[18,36,10,34],[18,38,10,36,"r"],[18,39,10,37],[18,41,10,39],[19,4,10,41],[19,8,10,45],[19,9,10,46,"r"],[19,10,10,47],[19,14,10,51,"e"],[19,15,10,52],[19,19,10,56,"e"],[19,20,10,57],[19,21,10,58,"__esModule"],[19,31,10,68],[19,33,10,70],[19,40,10,77,"e"],[19,41,10,78],[20,4,10,80],[20,8,10,84],[20,12,10,88],[20,17,10,93,"e"],[20,18,10,94],[20,22,10,98],[20,30,10,106],[20,34,10,110],[20,41,10,117,"e"],[20,42,10,118],[20,46,10,122],[20,56,10,132],[20,60,10,136],[20,67,10,143,"e"],[20,68,10,144],[20,70,10,146],[20,77,10,153],[21,6,10,155,"default"],[21,13,10,162],[21,15,10,164,"e"],[22,4,10,166],[22,5,10,167],[23,4,10,169],[23,8,10,173,"t"],[23,9,10,174],[23,12,10,177,"_getRequireWildcardCache"],[23,36,10,201],[23,37,10,202,"r"],[23,38,10,203],[23,39,10,204],[24,4,10,206],[24,8,10,210,"t"],[24,9,10,211],[24,13,10,215,"t"],[24,14,10,216],[24,15,10,217,"has"],[24,18,10,220],[24,19,10,221,"e"],[24,20,10,222],[24,21,10,223],[24,23,10,225],[24,30,10,232,"t"],[24,31,10,233],[24,32,10,234,"get"],[24,35,10,237],[24,36,10,238,"e"],[24,37,10,239],[24,38,10,240],[25,4,10,242],[25,8,10,246,"n"],[25,9,10,247],[25,12,10,250],[26,8,10,252,"__proto__"],[26,17,10,261],[26,19,10,263],[27,6,10,268],[27,7,10,269],[28,6,10,271,"a"],[28,7,10,272],[28,10,10,275,"Object"],[28,16,10,281],[28,17,10,282,"defineProperty"],[28,31,10,296],[28,35,10,300,"Object"],[28,41,10,306],[28,42,10,307,"getOwnPropertyDescriptor"],[28,66,10,331],[29,4,10,333],[29,9,10,338],[29,13,10,342,"u"],[29,14,10,343],[29,18,10,347,"e"],[29,19,10,348],[29,21,10,350],[29,25,10,354],[29,34,10,363],[29,39,10,368,"u"],[29,40,10,369],[29,44,10,373],[29,45,10,374],[29,46,10,375],[29,47,10,376,"hasOwnProperty"],[29,61,10,390],[29,62,10,391,"call"],[29,66,10,395],[29,67,10,396,"e"],[29,68,10,397],[29,70,10,399,"u"],[29,71,10,400],[29,72,10,401],[29,74,10,403],[30,6,10,405],[30,10,10,409,"i"],[30,11,10,410],[30,14,10,413,"a"],[30,15,10,414],[30,18,10,417,"Object"],[30,24,10,423],[30,25,10,424,"getOwnPropertyDescriptor"],[30,49,10,448],[30,50,10,449,"e"],[30,51,10,450],[30,53,10,452,"u"],[30,54,10,453],[30,55,10,454],[30,58,10,457],[30,62,10,461],[31,6,10,463,"i"],[31,7,10,464],[31,12,10,469,"i"],[31,13,10,470],[31,14,10,471,"get"],[31,17,10,474],[31,21,10,478,"i"],[31,22,10,479],[31,23,10,480,"set"],[31,26,10,483],[31,27,10,484],[31,30,10,487,"Object"],[31,36,10,493],[31,37,10,494,"defineProperty"],[31,51,10,508],[31,52,10,509,"n"],[31,53,10,510],[31,55,10,512,"u"],[31,56,10,513],[31,58,10,515,"i"],[31,59,10,516],[31,60,10,517],[31,63,10,520,"n"],[31,64,10,521],[31,65,10,522,"u"],[31,66,10,523],[31,67,10,524],[31,70,10,527,"e"],[31,71,10,528],[31,72,10,529,"u"],[31,73,10,530],[31,74,10,531],[32,4,10,533],[33,4,10,535],[33,11,10,542,"n"],[33,12,10,543],[33,13,10,544,"default"],[33,20,10,551],[33,23,10,554,"e"],[33,24,10,555],[33,26,10,557,"t"],[33,27,10,558],[33,31,10,562,"t"],[33,32,10,563],[33,33,10,564,"set"],[33,36,10,567],[33,37,10,568,"e"],[33,38,10,569],[33,40,10,571,"n"],[33,41,10,572],[33,42,10,573],[33,44,10,575,"n"],[33,45,10,576],[34,2,10,578],[35,2,11,0],[36,0,12,0],[37,0,13,0],[38,2,14,0],[38,11,14,9,"useFocusEvents"],[38,25,14,23,"useFocusEvents"],[38,26,14,23,"_ref"],[38,30,14,23],[38,32,17,3],[39,4,17,3],[39,8,15,2,"state"],[39,13,15,7],[39,16,15,7,"_ref"],[39,20,15,7],[39,21,15,2,"state"],[39,26,15,7],[40,6,16,2,"emitter"],[40,13,16,9],[40,16,16,9,"_ref"],[40,20,16,9],[40,21,16,2,"emitter"],[40,28,16,9],[41,4,18,2],[41,8,18,8,"navigation"],[41,18,18,18],[41,21,18,21,"React"],[41,26,18,26],[41,27,18,27,"useContext"],[41,37,18,37],[41,38,18,38,"_NavigationContext"],[41,56,18,56],[41,57,18,57,"NavigationContext"],[41,74,18,74],[41,75,18,75],[42,4,19,2],[42,8,19,8,"lastFocusedKeyRef"],[42,25,19,25],[42,28,19,28,"React"],[42,33,19,33],[42,34,19,34,"useRef"],[42,40,19,40],[42,41,19,41],[42,42,19,42],[43,4,20,2],[43,8,20,8,"currentFocusedKey"],[43,25,20,25],[43,28,20,28,"state"],[43,33,20,33],[43,34,20,34,"routes"],[43,40,20,40],[43,41,20,41,"state"],[43,46,20,46],[43,47,20,47,"index"],[43,52,20,52],[43,53,20,53],[43,54,20,54,"key"],[43,57,20,57],[45,4,22,2],[46,4,23,2],[47,4,24,2,"React"],[47,9,24,7],[47,10,24,8,"useEffect"],[47,19,24,17],[47,20,24,18],[47,26,24,24,"navigation"],[47,36,24,34],[47,38,24,36,"addListener"],[47,49,24,47],[47,50,24,48],[47,57,24,55],[47,59,24,57],[47,65,24,63],[48,6,25,4,"lastFocusedKeyRef"],[48,23,25,21],[48,24,25,22,"current"],[48,31,25,29],[48,34,25,32,"currentFocusedKey"],[48,51,25,49],[49,6,26,4,"emitter"],[49,13,26,11],[49,14,26,12,"emit"],[49,18,26,16],[49,19,26,17],[50,8,27,6,"type"],[50,12,27,10],[50,14,27,12],[50,21,27,19],[51,8,28,6,"target"],[51,14,28,12],[51,16,28,14,"currentFocusedKey"],[52,6,29,4],[52,7,29,5],[52,8,29,6],[53,4,30,2],[53,5,30,3],[53,6,30,4],[53,8,30,6],[53,9,30,7,"currentFocusedKey"],[53,26,30,24],[53,28,30,26,"emitter"],[53,35,30,33],[53,37,30,35,"navigation"],[53,47,30,45],[53,48,30,46],[53,49,30,47],[54,4,31,2,"React"],[54,9,31,7],[54,10,31,8,"useEffect"],[54,19,31,17],[54,20,31,18],[54,26,31,24,"navigation"],[54,36,31,34],[54,38,31,36,"addListener"],[54,49,31,47],[54,50,31,48],[54,56,31,54],[54,58,31,56],[54,64,31,62],[55,6,32,4,"lastFocusedKeyRef"],[55,23,32,21],[55,24,32,22,"current"],[55,31,32,29],[55,34,32,32,"undefined"],[55,43,32,41],[56,6,33,4,"emitter"],[56,13,33,11],[56,14,33,12,"emit"],[56,18,33,16],[56,19,33,17],[57,8,34,6,"type"],[57,12,34,10],[57,14,34,12],[57,20,34,18],[58,8,35,6,"target"],[58,14,35,12],[58,16,35,14,"currentFocusedKey"],[59,6,36,4],[59,7,36,5],[59,8,36,6],[60,4,37,2],[60,5,37,3],[60,6,37,4],[60,8,37,6],[60,9,37,7,"currentFocusedKey"],[60,26,37,24],[60,28,37,26,"emitter"],[60,35,37,33],[60,37,37,35,"navigation"],[60,47,37,45],[60,48,37,46],[60,49,37,47],[61,4,38,2,"React"],[61,9,38,7],[61,10,38,8,"useEffect"],[61,19,38,17],[61,20,38,18],[61,26,38,24],[62,6,39,4],[62,10,39,10,"lastFocusedKey"],[62,24,39,24],[62,27,39,27,"lastFocusedKeyRef"],[62,44,39,44],[62,45,39,45,"current"],[62,52,39,52],[63,6,40,4,"lastFocusedKeyRef"],[63,23,40,21],[63,24,40,22,"current"],[63,31,40,29],[63,34,40,32,"currentFocusedKey"],[63,51,40,49],[65,6,42,4],[66,6,43,4],[67,6,44,4],[67,10,44,8,"lastFocusedKey"],[67,24,44,22],[67,29,44,27,"undefined"],[67,38,44,36],[67,42,44,40],[67,43,44,41,"navigation"],[67,53,44,51],[67,55,44,53],[68,8,45,6,"emitter"],[68,15,45,13],[68,16,45,14,"emit"],[68,20,45,18],[68,21,45,19],[69,10,46,8,"type"],[69,14,46,12],[69,16,46,14],[69,23,46,21],[70,10,47,8,"target"],[70,16,47,14],[70,18,47,16,"currentFocusedKey"],[71,8,48,6],[71,9,48,7],[71,10,48,8],[72,6,49,4],[74,6,51,4],[75,6,52,4],[76,6,53,4],[76,10,53,8,"lastFocusedKey"],[76,24,53,22],[76,29,53,27,"currentFocusedKey"],[76,46,53,44],[76,50,53,48],[76,52,53,50,"navigation"],[76,62,53,60],[76,65,53,63,"navigation"],[76,75,53,73],[76,76,53,74,"isFocused"],[76,85,53,83],[76,86,53,84],[76,87,53,85],[76,90,53,88],[76,94,53,92],[76,95,53,93],[76,97,53,95],[77,8,54,6],[78,6,55,4],[79,6,56,4],[79,10,56,8,"lastFocusedKey"],[79,24,56,22],[79,29,56,27,"undefined"],[79,38,56,36],[79,40,56,38],[80,8,57,6],[81,8,58,6],[82,6,59,4],[83,6,60,4,"emitter"],[83,13,60,11],[83,14,60,12,"emit"],[83,18,60,16],[83,19,60,17],[84,8,61,6,"type"],[84,12,61,10],[84,14,61,12],[84,20,61,18],[85,8,62,6,"target"],[85,14,62,12],[85,16,62,14,"lastFocusedKey"],[86,6,63,4],[86,7,63,5],[86,8,63,6],[87,6,64,4,"emitter"],[87,13,64,11],[87,14,64,12,"emit"],[87,18,64,16],[87,19,64,17],[88,8,65,6,"type"],[88,12,65,10],[88,14,65,12],[88,21,65,19],[89,8,66,6,"target"],[89,14,66,12],[89,16,66,14,"currentFocusedKey"],[90,6,67,4],[90,7,67,5],[90,8,67,6],[91,4,68,2],[91,5,68,3],[91,7,68,5],[91,8,68,6,"currentFocusedKey"],[91,25,68,23],[91,27,68,25,"emitter"],[91,34,68,32],[91,36,68,34,"navigation"],[91,46,68,44],[91,47,68,45],[91,48,68,46],[92,2,69,0],[93,0,69,1],[93,3]],"functionMap":{"names":["<global>","_getRequireWildcardCache","_interopRequireWildcard","useFocusEvents","React.useEffect$argument_0","navigation.addListener$argument_1"],"mappings":"AAA;ACQ,4MD;AEC,mkBF;AGI;kBCU,uCC;GDM,CD;kBCC,sCC;GDM,CD;kBCC;GD8B;CHC"}},"type":"js/module"}]}