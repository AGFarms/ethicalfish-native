{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":86,"column":46,"index":2812}}],"key":"EU+qeBIKi4KcIzPeK4PbkLqFqVY="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _slicedToArray = require(_dependencyMap[0], \"@babel/runtime/helpers/slicedToArray\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getActionFromState = getActionFromState;\n  function getActionFromState(state, options) {\n    // Create a normalized configs object which will be easier to use\n    var normalizedConfig = options ? createNormalizedConfigItem(options) : {};\n    var routes = state.index != null ? state.routes.slice(0, state.index + 1) : state.routes;\n    if (routes.length === 0) {\n      return undefined;\n    }\n    if (!(routes.length === 1 && routes[0].key === undefined || routes.length === 2 && routes[0].key === undefined && routes[0].name === normalizedConfig?.initialRouteName && routes[1].key === undefined)) {\n      return {\n        type: 'RESET',\n        payload: state\n      };\n    }\n    var route = state.routes[state.index ?? state.routes.length - 1];\n    var current = route?.state;\n    var config = normalizedConfig?.screens?.[route?.name];\n    var params = {\n      ...route.params\n    };\n    var payload = route ? {\n      name: route.name,\n      path: route.path,\n      params\n    } : undefined;\n    while (current) {\n      if (current.routes.length === 0) {\n        return undefined;\n      }\n      var _routes = current.index != null ? current.routes.slice(0, current.index + 1) : current.routes;\n      var _route = _routes[_routes.length - 1];\n\n      // Explicitly set to override existing value when merging params\n      Object.assign(params, {\n        initial: undefined,\n        screen: undefined,\n        params: undefined,\n        state: undefined\n      });\n      if (_routes.length === 1 && _routes[0].key === undefined) {\n        params.initial = true;\n        params.screen = _route.name;\n      } else if (_routes.length === 2 && _routes[0].key === undefined && _routes[0].name === config?.initialRouteName && _routes[1].key === undefined) {\n        params.initial = false;\n        params.screen = _route.name;\n      } else {\n        params.state = current;\n        break;\n      }\n      if (_route.state) {\n        params.params = {\n          ..._route.params\n        };\n        params = params.params;\n      } else {\n        params.path = _route.path;\n        params.params = _route.params;\n      }\n      current = _route.state;\n      config = config?.screens?.[_route.name];\n    }\n    if (!payload) {\n      return;\n    }\n\n    // Try to construct payload for a `NAVIGATE` action from the state\n    // This lets us preserve the navigation state and not lose it\n    return {\n      type: 'NAVIGATE',\n      payload\n    };\n  }\n  var createNormalizedConfigItem = config => typeof config === 'object' && config != null ? {\n    initialRouteName: config.initialRouteName,\n    screens: config.screens != null ? createNormalizedConfigs(config.screens) : undefined\n  } : {};\n  var createNormalizedConfigs = options => Object.entries(options).reduce((acc, _ref) => {\n    var _ref2 = _slicedToArray(_ref, 2),\n      k = _ref2[0],\n      v = _ref2[1];\n    acc[k] = createNormalizedConfigItem(v);\n    return acc;\n  }, {});\n});","lineCount":91,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_slicedToArray"],[4,20,1,13],[4,23,1,13,"require"],[4,30,1,13],[4,31,1,13,"_dependencyMap"],[4,45,1,13],[5,2,3,0,"Object"],[5,8,3,6],[5,9,3,7,"defineProperty"],[5,23,3,21],[5,24,3,22,"exports"],[5,31,3,29],[5,33,3,31],[5,45,3,43],[5,47,3,45],[6,4,4,2,"value"],[6,9,4,7],[6,11,4,9],[7,2,5,0],[7,3,5,1],[7,4,5,2],[8,2,6,0,"exports"],[8,9,6,7],[8,10,6,8,"getActionFromState"],[8,28,6,26],[8,31,6,29,"getActionFromState"],[8,49,6,47],[9,2,7,0],[9,11,7,9,"getActionFromState"],[9,29,7,27,"getActionFromState"],[9,30,7,28,"state"],[9,35,7,33],[9,37,7,35,"options"],[9,44,7,42],[9,46,7,44],[10,4,8,2],[11,4,9,2],[11,8,9,8,"normalizedConfig"],[11,24,9,24],[11,27,9,27,"options"],[11,34,9,34],[11,37,9,37,"createNormalizedConfigItem"],[11,63,9,63],[11,64,9,64,"options"],[11,71,9,71],[11,72,9,72],[11,75,9,75],[11,76,9,76],[11,77,9,77],[12,4,10,2],[12,8,10,8,"routes"],[12,14,10,14],[12,17,10,17,"state"],[12,22,10,22],[12,23,10,23,"index"],[12,28,10,28],[12,32,10,32],[12,36,10,36],[12,39,10,39,"state"],[12,44,10,44],[12,45,10,45,"routes"],[12,51,10,51],[12,52,10,52,"slice"],[12,57,10,57],[12,58,10,58],[12,59,10,59],[12,61,10,61,"state"],[12,66,10,66],[12,67,10,67,"index"],[12,72,10,72],[12,75,10,75],[12,76,10,76],[12,77,10,77],[12,80,10,80,"state"],[12,85,10,85],[12,86,10,86,"routes"],[12,92,10,92],[13,4,11,2],[13,8,11,6,"routes"],[13,14,11,12],[13,15,11,13,"length"],[13,21,11,19],[13,26,11,24],[13,27,11,25],[13,29,11,27],[14,6,12,4],[14,13,12,11,"undefined"],[14,22,12,20],[15,4,13,2],[16,4,14,2],[16,8,14,6],[16,10,14,8,"routes"],[16,16,14,14],[16,17,14,15,"length"],[16,23,14,21],[16,28,14,26],[16,29,14,27],[16,33,14,31,"routes"],[16,39,14,37],[16,40,14,38],[16,41,14,39],[16,42,14,40],[16,43,14,41,"key"],[16,46,14,44],[16,51,14,49,"undefined"],[16,60,14,58],[16,64,14,62,"routes"],[16,70,14,68],[16,71,14,69,"length"],[16,77,14,75],[16,82,14,80],[16,83,14,81],[16,87,14,85,"routes"],[16,93,14,91],[16,94,14,92],[16,95,14,93],[16,96,14,94],[16,97,14,95,"key"],[16,100,14,98],[16,105,14,103,"undefined"],[16,114,14,112],[16,118,14,116,"routes"],[16,124,14,122],[16,125,14,123],[16,126,14,124],[16,127,14,125],[16,128,14,126,"name"],[16,132,14,130],[16,137,14,135,"normalizedConfig"],[16,153,14,151],[16,155,14,153,"initialRouteName"],[16,171,14,169],[16,175,14,173,"routes"],[16,181,14,179],[16,182,14,180],[16,183,14,181],[16,184,14,182],[16,185,14,183,"key"],[16,188,14,186],[16,193,14,191,"undefined"],[16,202,14,200],[16,203,14,201],[16,205,14,203],[17,6,15,4],[17,13,15,11],[18,8,16,6,"type"],[18,12,16,10],[18,14,16,12],[18,21,16,19],[19,8,17,6,"payload"],[19,15,17,13],[19,17,17,15,"state"],[20,6,18,4],[20,7,18,5],[21,4,19,2],[22,4,20,2],[22,8,20,8,"route"],[22,13,20,13],[22,16,20,16,"state"],[22,21,20,21],[22,22,20,22,"routes"],[22,28,20,28],[22,29,20,29,"state"],[22,34,20,34],[22,35,20,35,"index"],[22,40,20,40],[22,44,20,44,"state"],[22,49,20,49],[22,50,20,50,"routes"],[22,56,20,56],[22,57,20,57,"length"],[22,63,20,63],[22,66,20,66],[22,67,20,67],[22,68,20,68],[23,4,21,2],[23,8,21,6,"current"],[23,15,21,13],[23,18,21,16,"route"],[23,23,21,21],[23,25,21,23,"state"],[23,30,21,28],[24,4,22,2],[24,8,22,6,"config"],[24,14,22,12],[24,17,22,15,"normalizedConfig"],[24,33,22,31],[24,35,22,33,"screens"],[24,42,22,40],[24,45,22,43,"route"],[24,50,22,48],[24,52,22,50,"name"],[24,56,22,54],[24,57,22,55],[25,4,23,2],[25,8,23,6,"params"],[25,14,23,12],[25,17,23,15],[26,6,24,4],[26,9,24,7,"route"],[26,14,24,12],[26,15,24,13,"params"],[27,4,25,2],[27,5,25,3],[28,4,26,2],[28,8,26,8,"payload"],[28,15,26,15],[28,18,26,18,"route"],[28,23,26,23],[28,26,26,26],[29,6,27,4,"name"],[29,10,27,8],[29,12,27,10,"route"],[29,17,27,15],[29,18,27,16,"name"],[29,22,27,20],[30,6,28,4,"path"],[30,10,28,8],[30,12,28,10,"route"],[30,17,28,15],[30,18,28,16,"path"],[30,22,28,20],[31,6,29,4,"params"],[32,4,30,2],[32,5,30,3],[32,8,30,6,"undefined"],[32,17,30,15],[33,4,31,2],[33,11,31,9,"current"],[33,18,31,16],[33,20,31,18],[34,6,32,4],[34,10,32,8,"current"],[34,17,32,15],[34,18,32,16,"routes"],[34,24,32,22],[34,25,32,23,"length"],[34,31,32,29],[34,36,32,34],[34,37,32,35],[34,39,32,37],[35,8,33,6],[35,15,33,13,"undefined"],[35,24,33,22],[36,6,34,4],[37,6,35,4],[37,10,35,10,"routes"],[37,17,35,16],[37,20,35,19,"current"],[37,27,35,26],[37,28,35,27,"index"],[37,33,35,32],[37,37,35,36],[37,41,35,40],[37,44,35,43,"current"],[37,51,35,50],[37,52,35,51,"routes"],[37,58,35,57],[37,59,35,58,"slice"],[37,64,35,63],[37,65,35,64],[37,66,35,65],[37,68,35,67,"current"],[37,75,35,74],[37,76,35,75,"index"],[37,81,35,80],[37,84,35,83],[37,85,35,84],[37,86,35,85],[37,89,35,88,"current"],[37,96,35,95],[37,97,35,96,"routes"],[37,103,35,102],[38,6,36,4],[38,10,36,10,"route"],[38,16,36,15],[38,19,36,18,"routes"],[38,26,36,24],[38,27,36,25,"routes"],[38,34,36,31],[38,35,36,32,"length"],[38,41,36,38],[38,44,36,41],[38,45,36,42],[38,46,36,43],[40,6,38,4],[41,6,39,4,"Object"],[41,12,39,10],[41,13,39,11,"assign"],[41,19,39,17],[41,20,39,18,"params"],[41,26,39,24],[41,28,39,26],[42,8,40,6,"initial"],[42,15,40,13],[42,17,40,15,"undefined"],[42,26,40,24],[43,8,41,6,"screen"],[43,14,41,12],[43,16,41,14,"undefined"],[43,25,41,23],[44,8,42,6,"params"],[44,14,42,12],[44,16,42,14,"undefined"],[44,25,42,23],[45,8,43,6,"state"],[45,13,43,11],[45,15,43,13,"undefined"],[46,6,44,4],[46,7,44,5],[46,8,44,6],[47,6,45,4],[47,10,45,8,"routes"],[47,17,45,14],[47,18,45,15,"length"],[47,24,45,21],[47,29,45,26],[47,30,45,27],[47,34,45,31,"routes"],[47,41,45,37],[47,42,45,38],[47,43,45,39],[47,44,45,40],[47,45,45,41,"key"],[47,48,45,44],[47,53,45,49,"undefined"],[47,62,45,58],[47,64,45,60],[48,8,46,6,"params"],[48,14,46,12],[48,15,46,13,"initial"],[48,22,46,20],[48,25,46,23],[48,29,46,27],[49,8,47,6,"params"],[49,14,47,12],[49,15,47,13,"screen"],[49,21,47,19],[49,24,47,22,"route"],[49,30,47,27],[49,31,47,28,"name"],[49,35,47,32],[50,6,48,4],[50,7,48,5],[50,13,48,11],[50,17,48,15,"routes"],[50,24,48,21],[50,25,48,22,"length"],[50,31,48,28],[50,36,48,33],[50,37,48,34],[50,41,48,38,"routes"],[50,48,48,44],[50,49,48,45],[50,50,48,46],[50,51,48,47],[50,52,48,48,"key"],[50,55,48,51],[50,60,48,56,"undefined"],[50,69,48,65],[50,73,48,69,"routes"],[50,80,48,75],[50,81,48,76],[50,82,48,77],[50,83,48,78],[50,84,48,79,"name"],[50,88,48,83],[50,93,48,88,"config"],[50,99,48,94],[50,101,48,96,"initialRouteName"],[50,117,48,112],[50,121,48,116,"routes"],[50,128,48,122],[50,129,48,123],[50,130,48,124],[50,131,48,125],[50,132,48,126,"key"],[50,135,48,129],[50,140,48,134,"undefined"],[50,149,48,143],[50,151,48,145],[51,8,49,6,"params"],[51,14,49,12],[51,15,49,13,"initial"],[51,22,49,20],[51,25,49,23],[51,30,49,28],[52,8,50,6,"params"],[52,14,50,12],[52,15,50,13,"screen"],[52,21,50,19],[52,24,50,22,"route"],[52,30,50,27],[52,31,50,28,"name"],[52,35,50,32],[53,6,51,4],[53,7,51,5],[53,13,51,11],[54,8,52,6,"params"],[54,14,52,12],[54,15,52,13,"state"],[54,20,52,18],[54,23,52,21,"current"],[54,30,52,28],[55,8,53,6],[56,6,54,4],[57,6,55,4],[57,10,55,8,"route"],[57,16,55,13],[57,17,55,14,"state"],[57,22,55,19],[57,24,55,21],[58,8,56,6,"params"],[58,14,56,12],[58,15,56,13,"params"],[58,21,56,19],[58,24,56,22],[59,10,57,8],[59,13,57,11,"route"],[59,19,57,16],[59,20,57,17,"params"],[60,8,58,6],[60,9,58,7],[61,8,59,6,"params"],[61,14,59,12],[61,17,59,15,"params"],[61,23,59,21],[61,24,59,22,"params"],[61,30,59,28],[62,6,60,4],[62,7,60,5],[62,13,60,11],[63,8,61,6,"params"],[63,14,61,12],[63,15,61,13,"path"],[63,19,61,17],[63,22,61,20,"route"],[63,28,61,25],[63,29,61,26,"path"],[63,33,61,30],[64,8,62,6,"params"],[64,14,62,12],[64,15,62,13,"params"],[64,21,62,19],[64,24,62,22,"route"],[64,30,62,27],[64,31,62,28,"params"],[64,37,62,34],[65,6,63,4],[66,6,64,4,"current"],[66,13,64,11],[66,16,64,14,"route"],[66,22,64,19],[66,23,64,20,"state"],[66,28,64,25],[67,6,65,4,"config"],[67,12,65,10],[67,15,65,13,"config"],[67,21,65,19],[67,23,65,21,"screens"],[67,30,65,28],[67,33,65,31,"route"],[67,39,65,36],[67,40,65,37,"name"],[67,44,65,41],[67,45,65,42],[68,4,66,2],[69,4,67,2],[69,8,67,6],[69,9,67,7,"payload"],[69,16,67,14],[69,18,67,16],[70,6,68,4],[71,4,69,2],[73,4,71,2],[74,4,72,2],[75,4,73,2],[75,11,73,9],[76,6,74,4,"type"],[76,10,74,8],[76,12,74,10],[76,22,74,20],[77,6,75,4,"payload"],[78,4,76,2],[78,5,76,3],[79,2,77,0],[80,2,78,0],[80,6,78,6,"createNormalizedConfigItem"],[80,32,78,32],[80,35,78,35,"config"],[80,41,78,41],[80,45,78,45],[80,52,78,52,"config"],[80,58,78,58],[80,63,78,63],[80,71,78,71],[80,75,78,75,"config"],[80,81,78,81],[80,85,78,85],[80,89,78,89],[80,92,78,92],[81,4,79,2,"initialRouteName"],[81,20,79,18],[81,22,79,20,"config"],[81,28,79,26],[81,29,79,27,"initialRouteName"],[81,45,79,43],[82,4,80,2,"screens"],[82,11,80,9],[82,13,80,11,"config"],[82,19,80,17],[82,20,80,18,"screens"],[82,27,80,25],[82,31,80,29],[82,35,80,33],[82,38,80,36,"createNormalizedConfigs"],[82,61,80,59],[82,62,80,60,"config"],[82,68,80,66],[82,69,80,67,"screens"],[82,76,80,74],[82,77,80,75],[82,80,80,78,"undefined"],[83,2,81,0],[83,3,81,1],[83,6,81,4],[83,7,81,5],[83,8,81,6],[84,2,82,0],[84,6,82,6,"createNormalizedConfigs"],[84,29,82,29],[84,32,82,32,"options"],[84,39,82,39],[84,43,82,43,"Object"],[84,49,82,49],[84,50,82,50,"entries"],[84,57,82,57],[84,58,82,58,"options"],[84,65,82,65],[84,66,82,66],[84,67,82,67,"reduce"],[84,73,82,73],[84,74,82,74],[84,75,82,75,"acc"],[84,78,82,78],[84,80,82,78,"_ref"],[84,84,82,78],[84,89,82,91],[85,4,82,91],[85,8,82,91,"_ref2"],[85,13,82,91],[85,16,82,91,"_slicedToArray"],[85,30,82,91],[85,31,82,91,"_ref"],[85,35,82,91],[86,6,82,81,"k"],[86,7,82,82],[86,10,82,82,"_ref2"],[86,15,82,82],[87,6,82,84,"v"],[87,7,82,85],[87,10,82,85,"_ref2"],[87,15,82,85],[88,4,83,2,"acc"],[88,7,83,5],[88,8,83,6,"k"],[88,9,83,7],[88,10,83,8],[88,13,83,11,"createNormalizedConfigItem"],[88,39,83,37],[88,40,83,38,"v"],[88,41,83,39],[88,42,83,40],[89,4,84,2],[89,11,84,9,"acc"],[89,14,84,12],[90,2,85,0],[90,3,85,1],[90,5,85,3],[90,6,85,4],[90,7,85,5],[90,8,85,6],[91,0,85,7],[91,3]],"functionMap":{"names":["<global>","getActionFromState","createNormalizedConfigItem","createNormalizedConfigs","Object.entries.reduce$argument_0"],"mappings":"AAA;ACM;CDsE;mCEC;MFG;gCGC,0CC;CDG,KH"}},"type":"js/module"}]}